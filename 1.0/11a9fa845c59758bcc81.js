var e={1:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},14:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(1),i=n.n(r),o=n(935),a=n.n(o)()(i());a.push([e.id,'.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}',"",{version:3,sources:["webpack://./../../node_modules/tippy.js/dist/tippy.css"],names:[],mappings:"AAAA,mDAAmD,SAAS,CAAC,kBAAkB,4BAA4B,CAAC,WAAW,iBAAiB,CAAC,qBAAqB,CAAC,UAAU,CAAC,iBAAiB,CAAC,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,SAAS,CAAC,gDAAgD,CAAC,6CAA6C,QAAQ,CAAC,oDAAoD,WAAW,CAAC,MAAM,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,2BAA2B,CAAC,gDAAgD,KAAK,CAAC,uDAAuD,QAAQ,CAAC,MAAM,CAAC,sBAAsB,CAAC,2BAA2B,CAAC,8BAA8B,CAAC,8CAA8C,OAAO,CAAC,qDAAqD,0BAA0B,CAAC,yBAAyB,CAAC,UAAU,CAAC,4BAA4B,CAAC,+CAA+C,MAAM,CAAC,sDAAsD,SAAS,CAAC,0BAA0B,CAAC,0BAA0B,CAAC,6BAA6B,CAAC,6CAA6C,yDAAyD,CAAC,aAAa,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,oBAAoB,UAAU,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,eAAe,iBAAiB,CAAC,eAAe,CAAC,SAAS",sourcesContent:['.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}'],sourceRoot:""}]);const s=a},51:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},62:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},128:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},201:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCA2czEuNzk2LS4wMTMgNC42Ny0zLjYxNUM1Ljg1MS45IDYuOTMuMDA2IDggMGMxLjA3LS4wMDYgMi4xNDguODg3IDMuMzQzIDIuMzg1QzE0LjIzMyA2LjAwNSAxNiA2IDE2IDZIMHoiIGZpbGw9InJnYmEoMCwgOCwgMTYsIDAuMikiLz48L3N2Zz4="},591:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],p=o[c]||0,u="".concat(c," ").concat(p);o[c]=p+1;var h=n(u),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(d);else{var f=i(d,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),c=0;c<o.length;c++){var p=n(o[c]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}o=l}}},656:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},670:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(1),i=n.n(r),o=n(935),a=n.n(o)()(i());a.push([e.id,".tippy-box[data-theme~=light]{color:#26323d;box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);background-color:#fff}.tippy-box[data-theme~=light][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff}.tippy-box[data-theme~=light][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff}.tippy-box[data-theme~=light]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light]>.tippy-svg-arrow{fill:#fff}","",{version:3,sources:["webpack://./../../node_modules/tippy.js/themes/light.css"],names:[],mappings:"AAAA,8BAA8B,aAAa,CAAC,mHAAmH,CAAC,qBAAqB,CAAC,uEAAuE,qBAAqB,CAAC,0EAA0E,wBAAwB,CAAC,wEAAwE,sBAAsB,CAAC,yEAAyE,uBAAuB,CAAC,8CAA8C,qBAAqB,CAAC,+CAA+C,SAAS",sourcesContent:[".tippy-box[data-theme~=light]{color:#26323d;box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);background-color:#fff}.tippy-box[data-theme~=light][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff}.tippy-box[data-theme~=light][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff}.tippy-box[data-theme~=light]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light]>.tippy-svg-arrow{fill:#fff}"],sourceRoot:""}]);const s=a},740:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},795:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(1),i=n.n(r),o=n(935),a=n.n(o),s=n(62),l=n.n(s),c=new URL(n(201),n.b),p=a()(i()),u=l()(c);p.push([e.id,`.tippy-box[data-theme~=light-border]{background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,8,16,.15);color:#333;box-shadow:0 4px 14px -2px rgba(0,8,16,.08)}.tippy-box[data-theme~=light-border]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light-border]>.tippy-arrow:after,.tippy-box[data-theme~=light-border]>.tippy-svg-arrow:after{content:"";position:absolute;z-index:-1}.tippy-box[data-theme~=light-border]>.tippy-arrow:after{border-color:transparent;border-style:solid}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-arrow:after{border-top-color:rgba(0,8,16,.2);border-width:7px 7px 0;top:17px;left:1px}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-svg-arrow>svg{top:16px}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-svg-arrow:after{top:17px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff;bottom:16px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-arrow:after{border-bottom-color:rgba(0,8,16,.2);border-width:0 7px 7px;bottom:17px;left:1px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-svg-arrow>svg{bottom:16px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-svg-arrow:after{bottom:17px}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-arrow:after{border-left-color:rgba(0,8,16,.2);border-width:7px 0 7px 7px;left:17px;top:1px}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-svg-arrow>svg{left:11px}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-svg-arrow:after{left:12px}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff;right:16px}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-arrow:after{border-width:7px 7px 7px 0;right:17px;top:1px;border-right-color:rgba(0,8,16,.2)}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-svg-arrow>svg{right:11px}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-svg-arrow:after{right:12px}.tippy-box[data-theme~=light-border]>.tippy-svg-arrow{fill:#fff}.tippy-box[data-theme~=light-border]>.tippy-svg-arrow:after{background-image:url(${u});background-size:16px 6px;width:16px;height:6px}`,"",{version:3,sources:["webpack://./../../node_modules/tippy.js/themes/light-border.css"],names:[],mappings:"AAAA,qCAAqC,qBAAqB,CAAC,2BAA2B,CAAC,iCAAiC,CAAC,UAAU,CAAC,2CAA2C,CAAC,qDAAqD,qBAAqB,CAAC,oHAAoH,UAAU,CAAC,iBAAiB,CAAC,UAAU,CAAC,wDAAwD,wBAAwB,CAAC,kBAAkB,CAAC,8EAA8E,qBAAqB,CAAC,6EAA6E,gCAAgC,CAAC,sBAAsB,CAAC,QAAQ,CAAC,QAAQ,CAAC,+EAA+E,QAAQ,CAAC,iFAAiF,QAAQ,CAAC,iFAAiF,wBAAwB,CAAC,WAAW,CAAC,gFAAgF,mCAAmC,CAAC,sBAAsB,CAAC,WAAW,CAAC,QAAQ,CAAC,kFAAkF,WAAW,CAAC,oFAAoF,WAAW,CAAC,+EAA+E,sBAAsB,CAAC,8EAA8E,iCAAiC,CAAC,0BAA0B,CAAC,SAAS,CAAC,OAAO,CAAC,gFAAgF,SAAS,CAAC,kFAAkF,SAAS,CAAC,gFAAgF,uBAAuB,CAAC,UAAU,CAAC,+EAA+E,0BAA0B,CAAC,UAAU,CAAC,OAAO,CAAC,kCAAkC,CAAC,iFAAiF,UAAU,CAAC,mFAAmF,UAAU,CAAC,sDAAsD,SAAS,CAAC,4DAA4D,wDAA4U,CAAC,wBAAwB,CAAC,UAAU,CAAC,UAAU",sourcesContent:['.tippy-box[data-theme~=light-border]{background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,8,16,.15);color:#333;box-shadow:0 4px 14px -2px rgba(0,8,16,.08)}.tippy-box[data-theme~=light-border]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light-border]>.tippy-arrow:after,.tippy-box[data-theme~=light-border]>.tippy-svg-arrow:after{content:"";position:absolute;z-index:-1}.tippy-box[data-theme~=light-border]>.tippy-arrow:after{border-color:transparent;border-style:solid}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-arrow:after{border-top-color:rgba(0,8,16,.2);border-width:7px 7px 0;top:17px;left:1px}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-svg-arrow>svg{top:16px}.tippy-box[data-theme~=light-border][data-placement^=top]>.tippy-svg-arrow:after{top:17px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff;bottom:16px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-arrow:after{border-bottom-color:rgba(0,8,16,.2);border-width:0 7px 7px;bottom:17px;left:1px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-svg-arrow>svg{bottom:16px}.tippy-box[data-theme~=light-border][data-placement^=bottom]>.tippy-svg-arrow:after{bottom:17px}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-arrow:after{border-left-color:rgba(0,8,16,.2);border-width:7px 0 7px 7px;left:17px;top:1px}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-svg-arrow>svg{left:11px}.tippy-box[data-theme~=light-border][data-placement^=left]>.tippy-svg-arrow:after{left:12px}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff;right:16px}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-arrow:after{border-width:7px 7px 7px 0;right:17px;top:1px;border-right-color:rgba(0,8,16,.2)}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-svg-arrow>svg{right:11px}.tippy-box[data-theme~=light-border][data-placement^=right]>.tippy-svg-arrow:after{right:12px}.tippy-box[data-theme~=light-border]>.tippy-svg-arrow{fill:#fff}.tippy-box[data-theme~=light-border]>.tippy-svg-arrow:after{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCA2czEuNzk2LS4wMTMgNC42Ny0zLjYxNUM1Ljg1MS45IDYuOTMuMDA2IDggMGMxLjA3LS4wMDYgMi4xNDguODg3IDMuMzQzIDIuMzg1QzE0LjIzMyA2LjAwNSAxNiA2IDE2IDZIMHoiIGZpbGw9InJnYmEoMCwgOCwgMTYsIDAuMikiLz48L3N2Zz4=);background-size:16px 6px;width:16px;height:6px}'],sourceRoot:""}]);const h=p},855:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},935:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);r&&a[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),t.push(p))}},t}},963:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(1),i=n.n(r),o=n(935),a=n.n(o)()(i());a.push([e.id,".tippy-box[data-theme~=translucent]{background-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent]>.tippy-arrow{width:14px;height:14px}.tippy-box[data-theme~=translucent][data-placement^=top]>.tippy-arrow:before{border-width:7px 7px 0;border-top-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent][data-placement^=bottom]>.tippy-arrow:before{border-width:0 7px 7px;border-bottom-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent][data-placement^=left]>.tippy-arrow:before{border-width:7px 0 7px 7px;border-left-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent][data-placement^=right]>.tippy-arrow:before{border-width:7px 7px 7px 0;border-right-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent]>.tippy-backdrop{background-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent]>.tippy-svg-arrow{fill:rgba(0,0,0,.7)}","",{version:3,sources:["webpack://./../../node_modules/tippy.js/themes/translucent.css"],names:[],mappings:"AAAA,oCAAoC,+BAA+B,CAAC,iDAAiD,UAAU,CAAC,WAAW,CAAC,6EAA6E,sBAAsB,CAAC,+BAA+B,CAAC,gFAAgF,sBAAsB,CAAC,kCAAkC,CAAC,8EAA8E,0BAA0B,CAAC,gCAAgC,CAAC,+EAA+E,0BAA0B,CAAC,iCAAiC,CAAC,oDAAoD,+BAA+B,CAAC,qDAAqD,mBAAmB",sourcesContent:[".tippy-box[data-theme~=translucent]{background-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent]>.tippy-arrow{width:14px;height:14px}.tippy-box[data-theme~=translucent][data-placement^=top]>.tippy-arrow:before{border-width:7px 7px 0;border-top-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent][data-placement^=bottom]>.tippy-arrow:before{border-width:0 7px 7px;border-bottom-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent][data-placement^=left]>.tippy-arrow:before{border-width:7px 0 7px 7px;border-left-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent][data-placement^=right]>.tippy-arrow:before{border-width:7px 7px 7px 0;border-right-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent]>.tippy-backdrop{background-color:rgba(0,0,0,.7)}.tippy-box[data-theme~=translucent]>.tippy-svg-arrow{fill:rgba(0,0,0,.7)}"],sourceRoot:""}]);const s=a}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.b=new URL("./",import.meta.url),n.nc=void 0;class r{}r.selectionColor="rgba(255, 255, 0, 0.8)",r.hoverColor="rgba(255, 255, 0, 0.3)",r.hyperlinkColor="rgba(0, 0, 255, 0.3)",r.prevShapeColor="rgba(160, 255, 255, 0.8)",r.nextShapeColor="rgba(255, 160, 255, 0.8)",r.prevConnColor="rgba(255, 0, 0, 1.0)",r.nextConnColor="rgba(255, 0, 0, 1.0)";const i={enablePan:!0,enableZoom:!0,enableLinks:!0,enableHeader:!0,enableBreadcrumb:!0,enableCopyHashLink:!1,enableFullscreen:!1,rewriteOfficeHyperlinks:!0,rewriteVsdxHyperlinks:!1,feedbackUrl:"",enableSelection:!0,enableBoxSelection:!1,selectionMode:"normal",enableFollowHyperlinks:!0,enableHover:!0,openHyperlinksInNewWindow:!0,hyperlinkColor:r.hyperlinkColor,selectionColor:r.selectionColor,hoverColor:r.hoverColor,dilate:2,enableDilate:!0,blur:2,enableBlur:!0,connDilate:1,enableConnDilate:!1,enablePrevShapeColor:!1,enableNextShapeColor:!1,enablePrevConnColor:!1,enableNextConnColor:!1,prevShapeColor:r.prevShapeColor,nextShapeColor:r.nextShapeColor,prevConnColor:r.prevConnColor,nextConnColor:r.nextConnColor,enableTooltips:!1,tooltipTrigger:"mouseenter",tooltipDelay:!1,tooltipDelayShow:500,tooltipDelayHide:0,tooltipPlacement:"auto",tooltipUseMousePosition:!1,tooltipInteractive:!1,tooltipTheme:"dark",enableTooltipMarkdown:!1,tooltipMarkdown:"",suppressMobileTip:!0,enableContentMarkdown:!1,contentMarkdown:"",enableSidebar:!0,sidebarType:"medium",showSidebarOnSelection:!1,enableSidebarTitle:!0,enableSidebarMarkdown:!1,sidebarMarkdown:"",sidebarDefaultWidth:"300px",enableProps:!0,enableLayers:!0,enableLayerLookup:!1,enableLayerSort:!1,enableLayerShowAll:!0};class o{static fitInBox(e,t,n,r){const i=e/t;return(e>n||t<r)&&(e=n,t=Math.floor(e/i)),(t>r||e<n)&&(t=r,e=Math.floor(t*i)),{width:e,height:t}}}o.makeClientPoint=(e,t)=>({clientX:e,clientY:t}),o.diff=(e,t)=>{const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)};class a{constructor(e){this.unsubscribeList=[],this.context=e}reset(){}subscribe(e,t,n,r){e.addEventListener(t,n,r),this.unsubscribeList.push(()=>e.removeEventListener(t,n))}unsubscribe(){this.unsubscribeList.forEach(e=>e()),this.unsubscribeList=[]}destroy(){this.unsubscribe()}}class s{static generateUniqueId(){return Math.random().toString(36).substring(2,9)}static getValueOrDefault(e,t){return void 0===e?t:e}static isTouchOnlyDevice(){const e="ontouchstart"in window&&navigator.maxTouchPoints>0;if(!e)return!1;const t=window.matchMedia&&window.matchMedia("(pointer: fine)").matches;return e&&!t}static findTargetElement(e,t){const n=t.svg.getElementById(e),r=t.diagram.shapes[e];if(!r||!r.IsContainer)return n;if(!r.ContainerText)return null;for(let e=0;e<n.children.length;++e){const t=n.children[e];if(t.textContent.indexOf(r.ContainerText)>=0)return t}}}var l={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function c(e){l=e}var p={exec:()=>null};function u(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(h.caret,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}var h={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},d=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,f=/(?:[*+-]|\d{1,9}[.)])/,g=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,m=u(g).replace(/bull/g,f).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),b=u(g).replace(/bull/g,f).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),x=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,y=/(?!\s*\])(?:\\.|[^\[\]\\])+/,v=u(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",y).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),A=u(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,f).getRegex(),w="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",k=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,C=u("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",k).replace("tag",w).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S=u(x).replace("hr",d).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w).getRegex(),T={blockquote:u(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",S).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:v,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:d,html:C,lheading:m,list:A,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:S,table:p,text:/^[^\n]+/},E=u("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",d).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w).getRegex(),I={...T,lheading:b,table:E,paragraph:u(x).replace("hr",d).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",E).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w).getRegex()},D={...T,html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",k).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:p,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:u(x).replace("hr",d).replace("heading"," *#{1,6} *[^\n]").replace("lheading",m).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},O=/^( {2,}|\\)\n(?!\s*$)/,M=/[\p{P}\p{S}]/u,L=/[\s\p{P}\p{S}]/u,R=/[^\s\p{P}\p{S}]/u,B=u(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,L).getRegex(),N=/(?!~)[\p{P}\p{S}]/u,P=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,_=u(P,"u").replace(/punct/g,M).getRegex(),z=u(P,"u").replace(/punct/g,N).getRegex(),$="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",H=u($,"gu").replace(/notPunctSpace/g,R).replace(/punctSpace/g,L).replace(/punct/g,M).getRegex(),F=u($,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,N).getRegex(),U=u("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,R).replace(/punctSpace/g,L).replace(/punct/g,M).getRegex(),j=u(/\\(punct)/,"gu").replace(/punct/g,M).getRegex(),W=u(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),V=u(k).replace("(?:--\x3e|$)","--\x3e").getRegex(),q=u("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",V).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),G=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Y=u(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",G).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Z=u(/^!?\[(label)\]\[(ref)\]/).replace("label",G).replace("ref",y).getRegex(),X=u(/^!?\[(ref)\](?:\[\])?/).replace("ref",y).getRegex(),Q={_backpedal:p,anyPunctuation:j,autolink:W,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:O,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:p,emStrongLDelim:_,emStrongRDelimAst:H,emStrongRDelimUnd:U,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Y,nolink:X,punctuation:B,reflink:Z,reflinkSearch:u("reflink|nolink(?!\\()","g").replace("reflink",Z).replace("nolink",X).getRegex(),tag:q,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:p},K={...Q,link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",G).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",G).getRegex()},J={...Q,emStrongRDelimAst:F,emStrongLDelim:z,url:u(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ee={...J,br:u(O).replace("{2,}","*").getRegex(),text:u(J.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},te={normal:T,gfm:I,pedantic:D},ne={normal:Q,gfm:J,breaks:ee,pedantic:K},re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ie=e=>re[e];function oe(e,t){if(t){if(h.escapeTest.test(e))return e.replace(h.escapeReplace,ie)}else if(h.escapeTestNoEncode.test(e))return e.replace(h.escapeReplaceNoEncode,ie);return e}function ae(e){try{e=encodeURI(e).replace(h.percentDecode,"%")}catch{return null}return e}function se(e,t){let n=e.replace(h.findPipe,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(h.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(h.slashPipe,"|");return n}function le(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function ce(e,t,n,r,i){let o=t.href,a=t.title||null,s=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}var pe=class{options;rules;lexer;constructor(e){this.options=e||l}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:le(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let i=r[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[r]=t;return r.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=le(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:le(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=le(t[0],"\n").split("\n"),n="",r="",i=[];for(;e.length>0;){let t,o=!1,a=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))a.push(e[t]),o=!0;else{if(o)break;a.push(e[t])}e=e.slice(t);let s=a.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${l}`:l;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;let p=i.at(-1);if("code"===p?.type)break;if("blockquote"===p?.type){let t=p,o=t.raw+"\n"+e.join("\n"),a=this.blockquote(o);i[i.length-1]=a,n=n.substring(0,n.length-t.raw.length)+a.raw,r=r.substring(0,r.length-t.text.length)+a.text;break}if("list"===p?.type){let t=p,o=t.raw+"\n"+e.join("\n"),a=this.list(o);i[i.length-1]=a,n=n.substring(0,n.length-p.raw.length)+a.raw,r=r.substring(0,r.length-t.raw.length)+a.raw,e=o.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let o=this.rules.other.listItemRegex(n),a=!1;for(;e;){let n=!1,r="",s="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],p=!l.trim(),u=0;if(this.options.pedantic?(u=2,s=l.trimStart()):p?u=t[1].length+1:(u=t[2].search(this.rules.other.nonSpaceChar),u=u>4?1:u,s=l.slice(u),u+=t[1].length),p&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(u),n=this.rules.other.hrRegex(u),i=this.rules.other.fencesBeginRegex(u),o=this.rules.other.headingBeginRegex(u),a=this.rules.other.htmlBeginRegex(u);for(;e;){let h,d=e.split("\n",1)[0];if(c=d,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),h=c):h=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c)||o.test(c)||a.test(c)||t.test(c)||n.test(c))break;if(h.search(this.rules.other.nonSpaceChar)>=u||!c.trim())s+="\n"+h.slice(u);else{if(p||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||i.test(l)||o.test(l)||n.test(l))break;s+="\n"+c}!p&&!c.trim()&&(p=!0),r+=d+"\n",e=e.substring(d.length+1),l=h.slice(u)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(a=!0));let h,d=null;this.options.gfm&&(d=this.rules.other.listIsTask.exec(s),d&&(h="[ ] "!==d[0],s=s.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:r,task:!!d,checked:h,loose:!1,text:s,tokens:[]}),i.raw+=r}let s=i.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){let t=i.items[e].tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=se(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<n.length;e++)o.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:o.align[e]});for(let e of i)o.rows.push(se(e,o.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=le(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),ce(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return ce(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let n,i,o=[...r[0]].length-1,a=o,s=0,l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=[...n].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&o%3&&!((o+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);let t=[...r[0]][0].length,l=e.slice(0,o+r.index+t+i);if(Math.min(o,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},ue=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||l,this.options.tokenizer=this.options.tokenizer||new pe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:h,block:te.normal,inline:ne.normal};this.options.pedantic?(t.block=te.pedantic,t.inline=ne.pedantic):this.options.gfm&&(t.block=te.gfm,this.options.breaks?t.inline=ne.breaks:t.inline=ne.gfm),this.tokenizer.rules=t}static get rules(){return{block:te,inline:ne}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(h.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(h.tabCharGlobal,"    ").replace(h.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let o=t.at(-1);n&&"paragraph"===o?.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;e;){let r;if(i||(o=""),i=!1,this.options.extensions?.inline?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,n,o)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}let a=e;if(this.options.extensions?.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(a=e.substring(0,n+1))}if(r=this.tokenizer.inlineText(a)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(o=r.raw.slice(-1)),i=!0;let n=t.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},he=class{options;parser;constructor(e){this.options=e||l}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(h.notSpaceStart)?.[0],i=e.replace(h.endingNewline,"")+"\n";return r?'<pre><code class="language-'+oe(r)+'">'+(n?i:oe(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:oe(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let t=0;t<e.items.length;t++){let n=e.items[t];r+=this.listitem(n)}let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+oe(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){let i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${oe(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=ae(e);if(null===i)return r;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+oe(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=ae(e);if(null===i)return oe(n);let o=`<img src="${e=i}" alt="${n}"`;return t&&(o+=` title="${oe(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:oe(e.text)}},de=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},fe=class e{options;renderer;textRenderer;constructor(e){this.options=e||l,this.options.renderer=this.options.renderer||new he,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new de}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}let o=i;switch(o.type){case"space":n+=this.renderer.space(o);continue;case"hr":n+=this.renderer.hr(o);continue;case"heading":n+=this.renderer.heading(o);continue;case"code":n+=this.renderer.code(o);continue;case"table":n+=this.renderer.table(o);continue;case"blockquote":n+=this.renderer.blockquote(o);continue;case"list":n+=this.renderer.list(o);continue;case"html":n+=this.renderer.html(o);continue;case"paragraph":n+=this.renderer.paragraph(o);continue;case"text":{let i=o,a=this.renderer.text(i);for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],a+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}let o=i;switch(o.type){case"escape":case"text":n+=t.text(o);break;case"html":n+=t.html(o);break;case"link":n+=t.link(o);break;case"image":n+=t.image(o);break;case"strong":n+=t.strong(o);break;case"em":n+=t.em(o);break;case"codespan":n+=t.codespan(o);break;case"br":n+=t.br(o);break;case"del":n+=t.del(o);break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}},ge=class{options;block;constructor(e){this.options=e||l}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ue.lex:ue.lexInline}provideParser(){return this.block?fe.parse:fe.parseInline}},me=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=fe;Renderer=he;TextRenderer=de;Lexer=ue;Tokenizer=pe;Hooks=ge;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let e=r;for(let r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(let r of e.rows)for(let e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(r=>{let i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))}):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new he(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let r=n,i=e.renderer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new pe(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let r=n,i=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new ge;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let r=n,i=e.hooks[r],o=t[r];ge.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(i.call(t,e)).then(e=>o.call(t,e));let n=i.call(t,e);return o.call(t,n)}:t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ue.lex(e,t??this.defaults)}parser(e,t){return fe.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},o=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);let a=i.hooks?i.hooks.provideLexer():e?ue.lex:ue.lexInline,s=i.hooks?i.hooks.provideParser():e?fe.parse:fe.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(e=>a(e,i)).then(e=>i.hooks?i.hooks.processAllTokens(e):e).then(e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then(()=>e):e).then(e=>s(e,i)).then(e=>i.hooks?i.hooks.postprocess(e):e).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let e=a(t,i);i.hooks&&(e=i.hooks.processAllTokens(e)),i.walkTokens&&this.walkTokens(e,i.walkTokens);let n=s(e,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(e){return o(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+oe(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function be(e,t){return me.parse(e,t)}be.options=be.setOptions=function(e){return me.setOptions(e),be.defaults=me.defaults,c(be.defaults),be},be.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},be.defaults=l,be.use=function(...e){return me.use(...e),be.defaults=me.defaults,c(be.defaults),be},be.walkTokens=function(e,t){return me.walkTokens(e,t)},be.parseInline=me.parseInline,be.Parser=fe,be.parser=fe.parse,be.Renderer=he,be.TextRenderer=de,be.Lexer=ue,be.lexer=ue.lex,be.Tokenizer=pe,be.Hooks=ge,be.parse=be,be.options,be.setOptions,be.use,be.walkTokens,be.parseInline,fe.parse,ue.lex;var xe=Object.prototype.toString,ye=Array.isArray||function(e){return"[object Array]"===xe.call(e)};function ve(e){return"function"==typeof e}function Ae(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function we(e,t){return null!=e&&"object"==typeof e&&t in e}function ke(e,t){return null!=e&&"object"!=typeof e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var Ce=RegExp.prototype.test,Se=/\S/;function Te(e){return!function(e,t){return Ce.call(e,t)}(Se,e)}var Ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Ie=/\s*/,De=/\s+/,Oe=/\s*=/,Me=/\s*\}/,Le=/#|\^|\/|>|\{|&|=|!/;function Re(e){this.string=e,this.tail=e,this.pos=0}function Be(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function Ne(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Re.prototype.eos=function(){return""===this.tail},Re.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},Re.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},Be.prototype.push=function(e){return new Be(e,this)},Be.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var r,i,o,a=this,s=!1;a;){if(e.indexOf(".")>0)for(r=a.view,i=e.split("."),o=0;null!=r&&o<i.length;)o===i.length-1&&(s=we(r,i[o])||ke(r,i[o])),r=r[i[o++]];else r=a.view[e],s=we(a.view,e);if(s){t=r;break}a=a.parent}n[e]=t}return ve(t)&&(t=t.call(this.view)),t},Ne.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},Ne.prototype.parse=function(e,t){var n=this.templateCache,r=e+":"+(t||Pe.tags).join(":"),i=void 0!==n,o=i?n.get(r):void 0;return null==o&&(o=function(e,t){if(!e)return[];var n,r,i,o=!1,a=[],s=[],l=[],c=!1,p=!1,u="",h=0;function d(){if(c&&!p)for(;l.length;)delete s[l.pop()];else l=[];c=!1,p=!1}function f(e){if("string"==typeof e&&(e=e.split(De,2)),!ye(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(Ae(e[0])+"\\s*"),r=new RegExp("\\s*"+Ae(e[1])),i=new RegExp("\\s*"+Ae("}"+e[1]))}f(t||Pe.tags);for(var g,m,b,x,y,v,A=new Re(e);!A.eos();){if(g=A.pos,b=A.scanUntil(n))for(var w=0,k=b.length;w<k;++w)Te(x=b.charAt(w))?(l.push(s.length),u+=x):(p=!0,o=!0,u+=" "),s.push(["text",x,g,g+1]),g+=1,"\n"===x&&(d(),u="",h=0,o=!1);if(!A.scan(n))break;if(c=!0,m=A.scan(Le)||"name",A.scan(Ie),"="===m?(b=A.scanUntil(Oe),A.scan(Oe),A.scanUntil(r)):"{"===m?(b=A.scanUntil(i),A.scan(Me),A.scanUntil(r),m="&"):b=A.scanUntil(r),!A.scan(r))throw new Error("Unclosed tag at "+A.pos);if(y=">"==m?[m,b,g,A.pos,u,h,o]:[m,b,g,A.pos],h++,s.push(y),"#"===m||"^"===m)a.push(y);else if("/"===m){if(!(v=a.pop()))throw new Error('Unopened section "'+b+'" at '+g);if(v[1]!==b)throw new Error('Unclosed section "'+v[1]+'" at '+g)}else"name"===m||"{"===m||"&"===m?p=!0:"="===m&&f(b)}if(d(),v=a.pop())throw new Error('Unclosed section "'+v[1]+'" at '+A.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(s))}(e,t),i&&n.set(r,o)),o},Ne.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),o=this.parse(e,i),a=t instanceof Be?t:new Be(t,void 0);return this.renderTokens(o,a,n,e,r)},Ne.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,l="",c=0,p=e.length;c<p;++c)s=void 0,"#"===(a=(o=e[c])[0])?s=this.renderSection(o,t,n,r,i):"^"===a?s=this.renderInverted(o,t,n,r,i):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},Ne.prototype.renderSection=function(e,t,n,r,i){var o=this,a="",s=t.lookup(e[1]);if(s){if(ye(s))for(var l=0,c=s.length;l<c;++l)a+=this.renderTokens(e[4],t.push(s[l]),n,r,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(e[4],t.push(s),n,r,i);else if(ve(s)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,r.slice(e[3],e[5]),function(e){return o.render(e,t,n,i)}))&&(a+=s)}else a+=this.renderTokens(e[4],t,n,r,i);return a}},Ne.prototype.renderInverted=function(e,t,n,r,i){var o=t.lookup(e[1]);if(!o||ye(o)&&0===o.length)return this.renderTokens(e[4],t,n,r,i)},Ne.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},Ne.prototype.renderPartial=function(e,t,n,r){if(n){var i=this.getConfigTags(r),o=ve(n)?n(e[1]):n[e[1]];if(null!=o){var a=e[6],s=e[5],l=e[4],c=o;0==s&&l&&(c=this.indentPartial(o,l,a));var p=this.parse(c,i);return this.renderTokens(p,t,n,c,r)}}},Ne.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},Ne.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||Pe.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===Pe.escape?String(i):r(i)},Ne.prototype.rawValue=function(e){return e[1]},Ne.prototype.getConfigTags=function(e){return ye(e)?e:e&&"object"==typeof e?e.tags:void 0},Ne.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!ye(e)?e.escape:void 0};var Pe={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){_e.templateCache=e},get templateCache(){return _e.templateCache}},_e=new Ne;Pe.clearCache=function(){return _e.clearCache()},Pe.parse=function(e,t){return _e.parse(e,t)},Pe.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(ye(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return _e.render(e,t,n,r)},Pe.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return Ee[e]})},Pe.Scanner=Re,Pe.Context=Be,Pe.Writer=Ne;const ze=Pe,{entries:$e,setPrototypeOf:He,isFrozen:Fe,getPrototypeOf:Ue,getOwnPropertyDescriptor:je}=Object;let{freeze:We,seal:Ve,create:qe}=Object,{apply:Ge,construct:Ye}="undefined"!=typeof Reflect&&Reflect;We||(We=function(e){return e}),Ve||(Ve=function(e){return e}),Ge||(Ge=function(e,t,n){return e.apply(t,n)}),Ye||(Ye=function(e,t){return new e(...t)});const Ze=pt(Array.prototype.forEach),Xe=pt(Array.prototype.lastIndexOf),Qe=pt(Array.prototype.pop),Ke=pt(Array.prototype.push),Je=pt(Array.prototype.splice),et=pt(String.prototype.toLowerCase),tt=pt(String.prototype.toString),nt=pt(String.prototype.match),rt=pt(String.prototype.replace),it=pt(String.prototype.indexOf),ot=pt(String.prototype.trim),at=pt(Object.prototype.hasOwnProperty),st=pt(RegExp.prototype.test),lt=(ct=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ye(ct,t)});var ct;function pt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ge(e,t,r)}}function ut(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:et;He&&He(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(Fe(t)||(t[r]=e),i=e)}e[i]=!0}return e}function ht(e){for(let t=0;t<e.length;t++)at(e,t)||(e[t]=null);return e}function dt(e){const t=qe(null);for(const[n,r]of $e(e))at(e,n)&&(Array.isArray(r)?t[n]=ht(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=dt(r):t[n]=r);return t}function ft(e,t){for(;null!==e;){const n=je(e,t);if(n){if(n.get)return pt(n.get);if("function"==typeof n.value)return pt(n.value)}e=Ue(e)}return function(){return null}}const gt=We(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mt=We(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),bt=We(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xt=We(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yt=We(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vt=We(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),At=We(["#text"]),wt=We(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),kt=We(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ct=We(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),St=We(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Tt=Ve(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Et=Ve(/<%[\w\W]*|[\w\W]*%>/gm),It=Ve(/\$\{[\w\W]*/gm),Dt=Ve(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ot=Ve(/^aria-[\-\w]+$/),Mt=Ve(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Lt=Ve(/^(?:\w+script|data):/i),Rt=Ve(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bt=Ve(/^html$/i),Nt=Ve(/^[a-z][.\w]*(-[.\w]+)+$/i);var Pt=Object.freeze({__proto__:null,ARIA_ATTR:Ot,ATTR_WHITESPACE:Rt,CUSTOM_ELEMENT:Nt,DATA_ATTR:Dt,DOCTYPE_NAME:Bt,ERB_EXPR:Et,IS_ALLOWED_URI:Mt,IS_SCRIPT_OR_DATA:Lt,MUSTACHE_EXPR:Tt,TMPLIT_EXPR:It});const _t=function(){return"undefined"==typeof window?null:window};var zt=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t();const n=t=>e(t);if(n.version="3.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:p,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=t,g=c.prototype,m=ft(g,"cloneNode"),b=ft(g,"remove"),x=ft(g,"nextSibling"),y=ft(g,"childNodes"),v=ft(g,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let A,w="";const{implementation:k,createNodeIterator:C,createDocumentFragment:S,getElementsByTagName:T}=r,{importNode:E}=i;let I={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof $e&&"function"==typeof v&&k&&void 0!==k.createHTMLDocument;const{MUSTACHE_EXPR:D,ERB_EXPR:O,TMPLIT_EXPR:M,DATA_ATTR:L,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:N,CUSTOM_ELEMENT:P}=Pt;let{IS_ALLOWED_URI:_}=Pt,z=null;const $=ut({},[...gt,...mt,...bt,...yt,...At]);let H=null;const F=ut({},[...wt,...kt,...Ct,...St]);let U=Object.seal(qe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,W=null,V=!0,q=!0,G=!1,Y=!0,Z=!1,X=!0,Q=!1,K=!1,J=!1,ee=!1,te=!1,ne=!1,re=!0,ie=!1,oe=!0,ae=!1,se={},le=null;const ce=ut({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let pe=null;const ue=ut({},["audio","video","img","source","image","track"]);let he=null;const de=ut({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml";let be=me,xe=!1,ye=null;const ve=ut({},[fe,ge,me],tt);let Ae=ut({},["mi","mo","mn","ms","mtext"]),we=ut({},["annotation-xml"]);const ke=ut({},["title","style","font","a","script"]);let Ce=null;const Se=["application/xhtml+xml","text/html"];let Te=null,Ee=null;const Ie=r.createElement("form"),De=function(e){return e instanceof RegExp||e instanceof Function},Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ee||Ee!==e){if(e&&"object"==typeof e||(e={}),e=dt(e),Ce=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Te="application/xhtml+xml"===Ce?tt:et,z=at(e,"ALLOWED_TAGS")?ut({},e.ALLOWED_TAGS,Te):$,H=at(e,"ALLOWED_ATTR")?ut({},e.ALLOWED_ATTR,Te):F,ye=at(e,"ALLOWED_NAMESPACES")?ut({},e.ALLOWED_NAMESPACES,tt):ve,he=at(e,"ADD_URI_SAFE_ATTR")?ut(dt(de),e.ADD_URI_SAFE_ATTR,Te):de,pe=at(e,"ADD_DATA_URI_TAGS")?ut(dt(ue),e.ADD_DATA_URI_TAGS,Te):ue,le=at(e,"FORBID_CONTENTS")?ut({},e.FORBID_CONTENTS,Te):ce,j=at(e,"FORBID_TAGS")?ut({},e.FORBID_TAGS,Te):dt({}),W=at(e,"FORBID_ATTR")?ut({},e.FORBID_ATTR,Te):dt({}),se=!!at(e,"USE_PROFILES")&&e.USE_PROFILES,V=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Z=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,Q=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,oe=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,_=e.ALLOWED_URI_REGEXP||Mt,be=e.NAMESPACE||me,Ae=e.MATHML_TEXT_INTEGRATION_POINTS||Ae,we=e.HTML_INTEGRATION_POINTS||we,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&De(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&De(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(q=!1),te&&(ee=!0),se&&(z=ut({},At),H=[],!0===se.html&&(ut(z,gt),ut(H,wt)),!0===se.svg&&(ut(z,mt),ut(H,kt),ut(H,St)),!0===se.svgFilters&&(ut(z,bt),ut(H,kt),ut(H,St)),!0===se.mathMl&&(ut(z,yt),ut(H,Ct),ut(H,St))),e.ADD_TAGS&&(z===$&&(z=dt(z)),ut(z,e.ADD_TAGS,Te)),e.ADD_ATTR&&(H===F&&(H=dt(H)),ut(H,e.ADD_ATTR,Te)),e.ADD_URI_SAFE_ATTR&&ut(he,e.ADD_URI_SAFE_ATTR,Te),e.FORBID_CONTENTS&&(le===ce&&(le=dt(le)),ut(le,e.FORBID_CONTENTS,Te)),oe&&(z["#text"]=!0),Q&&ut(z,["html","head","body"]),z.table&&(ut(z,["tbody"]),delete j.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw lt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw lt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=e.TRUSTED_TYPES_POLICY,w=A.createHTML("")}else void 0===A&&(A=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(f,o)),null!==A&&"string"==typeof w&&(w=A.createHTML(""));We&&We(e),Ee=e}},Me=ut({},[...mt,...bt,...xt]),Le=ut({},[...yt,...vt]),Re=function(e){Ke(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){b(e)}},Be=function(e,t){try{Ke(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Ke(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Re(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ne=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=nt(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ce&&be===me&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=A?A.createHTML(e):e;if(be===me)try{t=(new d).parseFromString(i,Ce)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(be,"template",null);try{t.documentElement.innerHTML=xe?w:i}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),be===me?T.call(t,Q?"html":"body")[0]:Q?t.documentElement:o},Pe=function(e){return C.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},_e=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},ze=function(e){return"function"==typeof l&&e instanceof l};function He(e,t,r){Ze(e,e=>{e.call(n,t,r,Ee)})}const Fe=function(e){let t=null;if(He(I.beforeSanitizeElements,e,null),_e(e))return Re(e),!0;const r=Te(e.nodeName);if(He(I.uponSanitizeElement,e,{tagName:r,allowedTags:z}),X&&e.hasChildNodes()&&!ze(e.firstElementChild)&&st(/<[/\w!]/g,e.innerHTML)&&st(/<[/\w!]/g,e.textContent))return Re(e),!0;if(7===e.nodeType)return Re(e),!0;if(X&&8===e.nodeType&&st(/<[/\w]/g,e.data))return Re(e),!0;if(!z[r]||j[r]){if(!j[r]&&je(r)){if(U.tagNameCheck instanceof RegExp&&st(U.tagNameCheck,r))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(r))return!1}if(oe&&!le[r]){const t=v(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const i=m(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,x(e))}}return Re(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:be,tagName:"template"});const n=et(e.tagName),r=et(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===me?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||Ae[r]):Boolean(Me[n]):e.namespaceURI===fe?t.namespaceURI===me?"math"===n:t.namespaceURI===ge?"math"===n&&we[r]:Boolean(Le[n]):e.namespaceURI===me?!(t.namespaceURI===ge&&!we[r])&&!(t.namespaceURI===fe&&!Ae[r])&&!Le[n]&&(ke[n]||!Me[n]):!("application/xhtml+xml"!==Ce||!ye[e.namespaceURI]))}(e)?(Re(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!st(/<\/no(script|embed|frames)/i,e.innerHTML)?(Z&&3===e.nodeType&&(t=e.textContent,Ze([D,O,M],e=>{t=rt(t,e," ")}),e.textContent!==t&&(Ke(n.removed,{element:e.cloneNode()}),e.textContent=t)),He(I.afterSanitizeElements,e,null),!1):(Re(e),!0)},Ue=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Ie))return!1;if(q&&!W[t]&&st(L,t));else if(V&&st(R,t));else if(!H[t]||W[t]){if(!(je(e)&&(U.tagNameCheck instanceof RegExp&&st(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&st(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&st(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))))return!1}else if(he[t]);else if(st(_,rt(n,N,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==it(n,"data:")||!pe[e])if(G&&!st(B,rt(n,N,"")));else if(n)return!1;return!0},je=function(e){return"annotation-xml"!==e&&nt(e,P)},Ve=function(e){He(I.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||_e(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:a,namespaceURI:s,value:l}=o,c=Te(a),p=l;let u="value"===a?p:ot(p);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,He(I.uponSanitizeAttribute,e,r),u=r.attrValue,!ie||"id"!==c&&"name"!==c||(Be(a,e),u="user-content-"+u),X&&st(/((--!?|])>)|<\/(style|title)/i,u)){Be(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Be(a,e);continue}if(!Y&&st(/\/>/i,u)){Be(a,e);continue}Z&&Ze([D,O,M],e=>{u=rt(u,e," ")});const h=Te(e.nodeName);if(Ue(h,c,u)){if(A&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(s);else switch(f.getAttributeType(h,c)){case"TrustedHTML":u=A.createHTML(u);break;case"TrustedScriptURL":u=A.createScriptURL(u)}if(u!==p)try{s?e.setAttributeNS(s,a,u):e.setAttribute(a,u),_e(e)?Re(e):Qe(n.removed)}catch(t){Be(a,e)}}else Be(a,e)}He(I.afterSanitizeAttributes,e,null)},Ge=function e(t){let n=null;const r=Pe(t);for(He(I.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)He(I.uponSanitizeShadowNode,n,null),Fe(n),Ve(n),n.content instanceof a&&e(n.content);He(I.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,c=null;if(xe=!e,xe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ze(e)){if("function"!=typeof e.toString)throw lt("toString is not a function");if("string"!=typeof(e=e.toString()))throw lt("dirty is not a string, aborting")}if(!n.isSupported)return e;if(K||Oe(t),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=Te(e.nodeName);if(!z[t]||j[t])throw lt("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Ne("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!ee&&!Z&&!Q&&-1===e.indexOf("<"))return A&&ne?A.createHTML(e):e;if(r=Ne(e),!r)return ee?null:ne?w:""}r&&J&&Re(r.firstChild);const p=Pe(ae?e:r);for(;s=p.nextNode();)Fe(s),Ve(s),s.content instanceof a&&Ge(s.content);if(ae)return e;if(ee){if(te)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(H.shadowroot||H.shadowrootmode)&&(c=E.call(i,c,!0)),c}let u=Q?r.outerHTML:r.innerHTML;return Q&&z["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&st(Bt,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),Z&&Ze([D,O,M],e=>{u=rt(u,e," ")}),A&&ne?A.createHTML(u):u},n.setConfig=function(){Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),K=!0},n.clearConfig=function(){Ee=null,K=!1},n.isValidAttribute=function(e,t,n){Ee||Oe({});const r=Te(e),i=Te(t);return Ue(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&Ke(I[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=Xe(I[e],t);return-1===n?void 0:Je(I[e],n,1)[0]}return Qe(I[e])},n.removeHooks=function(e){I[e]=[]},n.removeAllHooks=function(){I={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();class $t extends a{constructor(e,t){super(e),this.viewPort=null,this.resizeObserver=null,this.lastContainerWidth=0,this.lastContainerHeight=0,this.zoomScale=.5,this.panDelta=3,this.state=null,this.stateOriginSvg=null,this.stateOriginClient=null,this.stateTf=null,this.stateDiff=null,this.viewChangedDebounceTimer=null,this.viewChangedDebounceDelay=80,this.handleMouseWheel=e=>{if(!this.enableZoom)return;if(this.context?.diagram?.settings?.enableZoomCtrl&&!e.ctrlKey)return;if(this.context?.diagram?.settings?.enableZoomShift&&!e.shiftKey)return;e.preventDefault(),e.returnValue=!1;const t=e.wheelDelta?e.wheelDelta/360:e.detail/-9,n=Math.pow(1+this.zoomScale,t);this.zoom(n,e)},this.handleMouseMove=e=>{if(!this.state)return;e.preventDefault(),e.returnValue=!1;const t=this.getEventClientPoint(e);if("pinch"===this.state){const n=e.touches;if(n&&2===n.length){const r=o.makeClientPoint(n[0].clientX,n[0].clientY),i=o.makeClientPoint(n[1].clientX,n[1].clientY),a=o.diff(r,i);this.zoom(a/this.stateDiff,e),this.stateDiff=a;const s=this.getSvgClientPoint(t).matrixTransform(this.stateTf);this.setCTM(this.stateTf.inverse().translate(s.x-this.stateOriginSvg.x,s.y-this.stateOriginSvg.y),e)}}if("down"===this.state&&o.diff(t,this.stateOriginClient)>this.panDelta&&(this.state="pan"),"pan"===this.state){const n=this.getSvgClientPoint(t).matrixTransform(this.stateTf);this.setCTM(this.stateTf.inverse().translate(n.x-this.stateOriginSvg.x,n.y-this.stateOriginSvg.y),e)}},this.handleMouseDown=e=>!!this.enablePan&&0===e.button&&(!e.target||e.target instanceof SVGElement)&&(e.preventDefault(),this.state="down",void this.setStartState(e)),this.handleTouchStart=e=>{if(!this.enablePan)return!1;if(e.target&&!(e.target instanceof SVGElement))return!1;const t=e.touches;if(t&&2===t.length){const e=o.makeClientPoint(t[0].clientX,t[0].clientY),n=o.makeClientPoint(t[1].clientX,t[1].clientY);this.stateDiff=o.diff(e,n),this.state="pinch"}else{if(this.context.diagram.settings?.twoFingersTouch&&t)return void(this.state=null);this.state="down"}this.setStartState(e)},this.handleClick=e=>{"pan"!==this.state&&"pinch"!==this.state||e.stopPropagation(),this.state=null},this.viewBox=t;const n=e.svg.querySelectorAll(["svg > g","svg > use","svg > image","svg > switch","svg > path","svg > rect","svg > circle","svg > ellipse","svg > line","svg > polyline","svg > polygon","svg > text","svg > textPath","svg > tspan","svg > tref","svg > foreignObject"].join(","));n.length>1||n[0].getAttribute("transform")?this.viewPort=this.wrapSvgContentsInGroup(this.context.svg):this.viewPort=n[0],this.reset(),this.resizeObserver=new ResizeObserver(e=>{this.handleContainerResize()}),this.resizeObserver.observe(this.context.container)}wrapSvgContentsInGroup(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");for(;e.firstChild;)t.appendChild(e.firstChild);return e.appendChild(t),t}get enableZoom(){return s.getValueOrDefault(this.context?.diagram?.settings?.enableZoom,!0)}get enablePan(){return s.getValueOrDefault(this.context?.diagram?.settings?.enablePan,!0)}subscribeAll(){const e=this.context.container,t=(this.context.svg,"ontouchstart"in window||navigator.maxTouchPoints>0);(this.enablePan||this.enableZoom)&&(this.subscribe(e,"mousedown",this.handleMouseDown,{passive:!1}),this.subscribe(e,"mousemove",this.handleMouseMove,{passive:!1}),this.subscribe(e,"click",this.handleClick,!0),t&&(this.subscribe(e,"touchstart",this.handleTouchStart,{passive:!1}),this.subscribe(e,"touchmove",this.handleMouseMove,{passive:!1}))),this.enableZoom&&(navigator.userAgent.toLowerCase().indexOf("firefox")>=0?this.subscribe(e,"DOMMouseScroll",this.handleMouseWheel,{passive:!1}):this.subscribe(e,"mousewheel",this.handleMouseWheel,{passive:!1}))}unsubscribe(){super.unsubscribe()}destroy(){this.unsubscribe(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}reset(){this.unsubscribe();const e=this.viewBox.split(" "),t=parseFloat(e[2]),n=parseFloat(e[3]),{offsetWidth:r,offsetHeight:i}=this.context.container;let a=this.context.svg.createSVGMatrix();const s=o.fitInBox(t,n,r,i);s.width<r&&(a=a.translate((r-s.width)/2,0)),s.height<i&&(a=a.translate(0,(i-s.height)/2,0)),a=a.scale(s.width/t),this.setCTM(a,null),this.lastContainerWidth=r,this.lastContainerHeight=i,this.subscribeAll()}handleContainerResize(){const{offsetWidth:e,offsetHeight:t}=this.context.container;if(e===this.lastContainerWidth&&t===this.lastContainerHeight)return;const n=this.viewPort.getCTM();if(!n)return void this.reset();const r=this.lastContainerWidth,i=this.lastContainerHeight;this.lastContainerWidth=e,this.lastContainerHeight=t;const o=e/r,a=t/i,s=Math.abs(o-1)<Math.abs(a-1)?o:a,l=r/2,c=i/2,p=this.context.svg.createSVGPoint();p.x=l,p.y=c;const u=p.matrixTransform(n.inverse());let h=this.context.svg.createSVGMatrix();h=h.scale(s),h=h.multiply(n);const d=e/2,f=t/2,g=this.context.svg.createSVGPoint();g.x=u.x,g.y=u.y;const m=g.matrixTransform(h),b=d-m.x,x=f-m.y;0===b&&0===x||(h=this.context.svg.createSVGMatrix().translate(b,x).multiply(h)),this.setCTM(h,null)}setFocusShape(e){const t=this.getDefaultPoint(),n=this.getShapePoint(e);if(n&&t){const e=this.viewPort.getCTM(),r=n.matrixTransform(e.inverse()),i=t.matrixTransform(e.inverse());this.setCTM(e.translate(i.x-r.x,i.y-r.y),null)}}getShapePoint(e){const t=this.context.svg.getElementById(e);if(!t)return;const n=t.getBoundingClientRect(),r=this.context.container.getBoundingClientRect(),i=this.context.svg.createSVGPoint();return i.x=(n.left+n.right)/2-r.left,i.y=(n.top+n.bottom)/2-r.top,i}getEventClientPoint(e){const t=e.touches;if(t&&2===t.length){const e=o.makeClientPoint(t[0].clientX,t[0].clientY),n=o.makeClientPoint(t[1].clientX,t[1].clientY);return o.makeClientPoint((e.clientX+n.clientX)/2,(e.clientY+n.clientY)/2)}if(t&&1===t.length)return o.makeClientPoint(t[0].clientX,t[0].clientY);{const t=e;return o.makeClientPoint(t.clientX,t.clientY)}}getSvgClientPoint(e){const t=this.context.svg.createSVGPoint(),n=this.context.container.getBoundingClientRect();return t.x=e.clientX-n.left,t.y=e.clientY-n.top,t}getDefaultPoint(){const e=this.context.svg.createSVGPoint(),t=this.context.container.getBoundingClientRect();return e.x=(t.right-t.left)/2,e.y=(t.bottom-t.top)/2,e}setCTM(e,t){const n="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";this.viewPort.setAttribute("transform",n),this.scheduleViewChanged(t)}scheduleViewChanged(e){null!==this.viewChangedDebounceTimer&&clearTimeout(this.viewChangedDebounceTimer),this.viewChangedDebounceTimer=window.setTimeout(()=>{this.viewChangedDebounceTimer=null,this.dispatchViewChanged(e)},this.viewChangedDebounceDelay)}dispatchViewChanged(e){const t=new CustomEvent("svgpublish_ViewChanged",{cancelable:!1,detail:{context:this.context,triggerEvent:e}});this.context.events.dispatchEvent(t)}zoom(e,t){const n=(t?this.getSvgClientPoint(this.getEventClientPoint(t)):this.getDefaultPoint()).matrixTransform(this.viewPort.getCTM().inverse()),r=this.context.svg.createSVGMatrix().translate(n.x,n.y).scale(e).translate(-n.x,-n.y);this.setCTM(this.viewPort.getCTM().multiply(r),t),this.stateTf||(this.stateTf=this.viewPort.getCTM().inverse()),this.stateTf=this.stateTf.multiply(r.inverse())}highlightShape(e){const t=document.getElementById(e);t&&t.animate([{opacity:1},{opacity:.3},{opacity:1},{opacity:.3},{opacity:1}],{duration:1200,easing:"ease-in-out"});const n=this.context.services?.selection;n&&n.setSelection(e)}setStartState(e){this.stateTf=this.viewPort.getCTM().inverse(),this.stateOriginClient=this.getEventClientPoint(e),this.stateOriginSvg=this.getSvgClientPoint(this.stateOriginClient).matrixTransform(this.stateTf)}renderMarkdown(e,t){const n=e&&ze.render(e,t);if(!n)return n;const r=/(?:^|\n)(?:#|\*\s|-\s|\d+\.\s|>\s|\||\n\s*\n)/.test(n)?be.parse(n):be.parseInline(n);return zt.sanitize(r,{USE_PROFILES:{html:!0}})}getViewMatrix(){const e=this.viewPort.getCTM();return`${e.a},${e.b},${e.c},${e.d},${e.e},${e.f}`}setViewMatrix(e){const t=e.split(",").map(e=>parseFloat(e.trim()));if(6!==t.length||t.some(e=>isNaN(e)))return void console.warn("Invalid view matrix format:",e);const n=this.context.svg.createSVGMatrix();n.a=t[0],n.b=t[1],n.c=t[2],n.d=t[3],n.e=t[4],n.f=t[5],this.setCTM(n,null)}getAvailablePropertyNames(){const e=this.context?.diagram?.shapes;if(!e)return[];const t={};for(const n in e){const r=e[n];if(r.Props)for(const e in r.Props)t[e]=!0}return Object.keys(t).sort()}}const Ht="http://www.w3.org/2000/svg";class Ft{static colorToRGBA(e){const t=/rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*([\d|\.]+)\)/.exec(e);if(t)return{r:parseInt(t[1])/255,g:parseInt(t[2])/255,b:parseInt(t[3])/255,a:parseFloat(t[4])};const n=/rgba\(0x([a-fA-F\d]{2}), 0x([a-f\d]{2}), 0x([a-f\d]{2}), ([\d|\.]+)\)/i.exec(e);if(n)return{r:parseInt(n[1],16)/255,g:parseInt(n[2],16)/255,b:parseInt(n[3],16)/255,a:parseFloat(n[4])};const r=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/.exec(e);if(r)return{r:parseInt(r[1])/255,g:parseInt(r[2])/255,b:parseInt(r[3])/255,a:1};const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);if(i)return{r:parseInt(i[1],16)/255,g:parseInt(i[2],16)/255,b:parseInt(i[3],16)/255,a:1};if(/^hsla\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)%\s*,\s*(\d+|\d*\.\d+)%\s*,\s*(\d+|\d*\.\d+)\s*\)$/.test(e)){const[t,n,r,i]=e.match(/\d+(\.\d+)?/g).map((e,t)=>0===t||3===t?parseFloat(e):parseFloat(e)/100);let o=(1-Math.abs(2*r-1))*n,a=o*(1-Math.abs(t/60%2-1)),s=r-o/2,l=0,c=0,p=0;return 0<=t&&t<60?(l=o,c=a,p=0):60<=t&&t<120?(l=a,c=o,p=0):120<=t&&t<180?(l=0,c=o,p=a):180<=t&&t<240?(l=0,c=a,p=o):240<=t&&t<300?(l=a,c=0,p=o):300<=t&&t<360&&(l=o,c=0,p=a),{r:l+s,g:c+s,b:p+s,a:i}}return null}static createSelectionBox(e,t,n){let r=t.x,i=t.y,o=t.width,a=t.height;const s=n.dilate||4;n?.enableDilate&&(r-=s/2,o+=s,i-=s/2,a+=s);const l=document.createElementNS(Ht,"rect");return l.id=e,l.setAttribute("x",r),l.setAttribute("y",i),l.setAttribute("width",o),l.setAttribute("height",a),l.setAttribute("pointer-events","none"),l.style.fill="normal"===n.mode?"none":n.color,l.style.stroke=n.color,l.style.strokeWidth=`${s||0}px`,l}static createFilterNode(e,t,n,r){let i=document.getElementById(n);if(i&&i.parentNode.removeChild(i),i=document.createElementNS(Ht,"filter"),i.setAttribute("id",n),r.enableDilate){const e=document.createElementNS(Ht,"feMorphology");e.setAttribute("operator","dilate"),e.setAttribute("radius",""+r.dilate),i.appendChild(e)}if(r.enableBlur){const e=document.createElementNS(Ht,"feGaussianBlur");e.setAttribute("stdDeviation",""+r.blur),i.appendChild(e)}const o=document.createElementNS(Ht,"feColorMatrix");o.setAttribute("type","matrix");const a=Ft.colorToRGBA(r.color);o.setAttribute("values",`\n      0 0 0 0 ${a.r}\n      0 0 0 0 ${a.g}\n      0 0 0 0 ${a.b}\n      0 0 0 ${a.a} 0`),o.setAttribute("result","matrix"),i.appendChild(o);const s=document.createElementNS(Ht,"feBlend");s.setAttribute("in","SourceGraphic"),s.setAttribute("in2","matrix"),s.setAttribute("mode",r.mode),i.appendChild(s);const l=`vp-defs-${t}`;let c=e.getElementById(l);c||(c=document.createElementNS(Ht,"defs"),c.id=l,e.appendChild(c)),c.appendChild(i)}}class Ut{static getMarkerId(e){const t=e.match(/url\("(.*)"\)/);return t&&t[1]}static removeElementById(e,t){const n=t.svg.getElementById(e);n&&n.parentElement.removeChild(n)}static replaceMarker(e,t,n,r){const i=r.svg.querySelector(e);if(i){const e=i.cloneNode(!0);e.id=t,e.style.stroke=n,e.style.fill=n,i.parentElement.appendChild(e)}}static getSvgFilterDefaults(e){return{blur:s.getValueOrDefault(e.blur,2),dilate:s.getValueOrDefault(e.dilate,2),enableBlur:s.getValueOrDefault(e.enableBlur,!0),enableDilate:s.getValueOrDefault(e.enableDilate,!0),mode:e.selectionMode||"normal"}}static createHoverFilters(e,t){const n=Ut.getSvgFilterDefaults(t);t.enableHover&&Ft.createFilterNode(e.svg,e.guid,Ut.getHoverFilterId(e.guid),{...n,color:s.getValueOrDefault(t.hoverColor,r.hoverColor)}),t.enableFollowHyperlinks&&Ft.createFilterNode(e.svg,e.guid,Ut.getHyperlinkFilterId(e.guid),{...n,color:s.getValueOrDefault(t.hyperlinkColor,r.hyperlinkColor)})}static destroyHoverFilters(e){Ut.removeElementById(Ut.getHoverFilterId(e.guid),e),Ut.removeElementById(Ut.getHyperlinkFilterId(e.guid),e)}static createSelectionFilters(e,t){const n=Ut.getSvgFilterDefaults(t);t.enableSelection&&Ft.createFilterNode(e.svg,e.guid,Ut.getSelectionFilterId(e.guid),{...n,color:s.getValueOrDefault(t.selectionColor,r.selectionColor)}),t.enableNextShapeColor&&Ft.createFilterNode(e.svg,e.guid,Ut.getNextShapeFilterId(e.guid),{...n,color:s.getValueOrDefault(t.nextShapeColor,r.nextShapeColor)}),t.enablePrevShapeColor&&Ft.createFilterNode(e.svg,e.guid,Ut.getPrevShapeFilterId(e.guid),{...n,color:s.getValueOrDefault(t.prevShapeColor,r.prevShapeColor)})}static destroySelectionFilters(e){Ut.removeElementById(Ut.getSelectionFilterId(e.guid),e),Ut.removeElementById(Ut.getNextShapeFilterId(e.guid),e),Ut.removeElementById(Ut.getPrevShapeFilterId(e.guid),e)}static removeConnHighlight(e,t){Ut.removeElementById(Ut.getConnPathId(t.guid,e.id),t),Ut.removeElementById(Ut.getMarkerEndId(t.guid,e.id),t),Ut.removeElementById(Ut.getMarkerStartId(t.guid,e.id),t)}static setConnHighlight(e,t,n){Ut.removeConnHighlight(e,n);var r=e.querySelector("path");if(r){const o=getComputedStyle(r),a=Ut.getConnPathId(n.guid,e.id);var i=r.cloneNode(!0);i.id=a,i.style.stroke=t;const l=n.diagram.settings||{};if(l.enableConnDilate){const e=parseFloat(o.strokeWidth)+s.getValueOrDefault(l.connDilate,1);i.style.strokeWidth=e+"px"}i.style.pointerEvents="none";const c=Ut.getMarkerId(o.markerEnd);if(c){const r=Ut.getMarkerEndId(n.guid,e.id);Ut.replaceMarker(c,r,t,n),i.style.markerEnd=`url("#${r}")`}const p=Ut.getMarkerId(o.markerStart);if(p){const r=Ut.getMarkerStartId(n.guid,e.id);Ut.replaceMarker(p,r,t,n),i.style.markerStart=`url("#${r}")`}return e.appendChild(i),a}}static removeShapeHighlight(e,t,n){(n.diagram.settings||{}).enableBoxSelection?Ut.removeElementById(t,n):e.removeAttribute("filter")}static setShapeHighlight(e,t,n,r,i){Ut.removeShapeHighlight(e,t,i);const o=i.diagram.settings||{};if(o.enableBoxSelection){const n=e.getBBox(),i={color:r,dilate:o.dilate||4,enableDilate:o.enableDilate,mode:o.selectionMode||"normal"},a=Ft.createSelectionBox(t,n,i);e.appendChild(a)}else e.setAttribute("filter",`url(#${n})`)}}Ut.getHoverFilterId=e=>`vp-filter-hover-${e}`,Ut.getHyperlinkFilterId=e=>`vp-filter-hyperlink-${e}`,Ut.getSelectionFilterId=e=>`vp-filter-select-${e}`,Ut.getPrevShapeFilterId=e=>`vp-filter-prev-shape-${e}`,Ut.getNextShapeFilterId=e=>`vp-filter-next-shape-${e}`,Ut.getConnPathId=(e,t)=>`vp-conn-path-${e}-${t}`,Ut.getMarkerEndId=(e,t)=>`vp-marker-end-${e}-${t}`,Ut.getMarkerStartId=(e,t)=>`vp-marker-start-${e}-${t}`,Ut.getSelectionBoxId=(e,t)=>`vp-selection-box-${e}-${t}`;class jt extends a{constructor(e){super(e),this.selectedShapeId=null,this.highlightedShapeIds={},this.reset()}reset(){this.unsubscribe();const e=this.selectedShapeId;e&&this.clearSelection();const t=this.context.diagram,n=t.settings||{};Ut.destroySelectionFilters(this.context),Ut.createSelectionFilters(this.context,n),this.subscribe(this.context.svg,"click",e=>{e.stopPropagation(),this.setSelection(null,e)});for(const e in t.shapes){const r=t.shapes[e];if(r.DefaultLink||r.Props&&Object.keys(r.Props).length||r.Links?.length||r.Comment||r.PopoverMarkdown||r.SidebarMarkdown||r.TooltipMarkdown||n.enableNextShapeColor&&r.ConnectedTo?.length||n.enablePrevShapeColor&&r.ConnectedFrom?.length){const t=s.findTargetElement(e,this.context);t&&(t.style.cursor="pointer",this.subscribe(t,"click",t=>{t.stopPropagation(),this.setSelection(e,t)}))}}e&&this.setSelection(e)}destroy(){Ut.destroySelectionFilters(this.context),this.clearSelection(),super.destroy()}setSelection(e,t){const n=this.context.diagram,i=n.settings||{};if(this.selectedShapeId&&this.selectedShapeId!==e){const e=s.findTargetElement(this.selectedShapeId,this.context);if(e){Ut.removeShapeHighlight(e,Ut.getSelectionBoxId(this.context.guid,this.selectedShapeId),this.context),delete this.highlightedShapeIds[this.selectedShapeId];const t=n.shapes[this.selectedShapeId];if((i.enableNextShapeColor||i.enableNextConnColor)&&t.ConnectedTo)for(let e of t.ConnectedTo){if(i.enableNextShapeColor){const t=s.findTargetElement(e.sid,this.context);Ut.removeShapeHighlight(t,Ut.getSelectionBoxId(this.context.guid,e.sid),this.context),delete this.highlightedShapeIds[e.sid]}if(i.enableNextConnColor){const t=s.findTargetElement(e.cid,this.context);Ut.removeConnHighlight(t,this.context),delete this.highlightedShapeIds[e.cid]}}if((i.enablePrevShapeColor||i.enablePrevConnColor)&&t.ConnectedFrom)for(let e of t.ConnectedFrom){if(i.enablePrevShapeColor){const t=s.findTargetElement(e.sid,this.context);Ut.removeShapeHighlight(t,Ut.getSelectionBoxId(this.context.guid,e.sid),this.context),delete this.highlightedShapeIds[e.sid]}if(i.enablePrevConnColor){const t=s.findTargetElement(e.cid,this.context);Ut.removeConnHighlight(t,this.context),delete this.highlightedShapeIds[e.cid]}}}delete this.selectedShapeId}if(!this.selectedShapeId||this.selectedShapeId!==e){this.selectedShapeId=e,this.highlightedShapeIds={},this.selectedShapeId=e;const o=new CustomEvent("svgpublish_SelectionChanged",{cancelable:!1,detail:{triggerEvent:t,context:this.context,shapeId:e}});if(!this.context.events.dispatchEvent(o))return;const a=s.findTargetElement(e,this.context);if(a){const t=n.shapes[e];if((i.enableNextShapeColor||i.enableNextConnColor)&&t.ConnectedTo)for(const e of t.ConnectedTo){if(i.enableNextShapeColor){const t=s.getValueOrDefault(i.nextShapeColor,r.nextShapeColor),n=s.findTargetElement(e.sid,this.context),o=Ut.getSelectionBoxId(this.context.guid,e.sid);Ut.setShapeHighlight(n,o,Ut.getNextShapeFilterId(this.context.guid),t,this.context),this.highlightedShapeIds[e.sid]=o}if(i.enableNextConnColor){const t=s.getValueOrDefault(i.nextConnColor,r.nextConnColor),n=s.findTargetElement(e.cid,this.context),o=Ut.setConnHighlight(n,t,this.context);this.highlightedShapeIds[e.cid]=o}}if((i.enablePrevShapeColor||i.enablePrevConnColor)&&t.ConnectedFrom)for(const e of t.ConnectedFrom){if(i.enablePrevShapeColor){const t=s.getValueOrDefault(i.prevShapeColor,r.prevShapeColor),n=s.findTargetElement(e.sid,this.context),o=Ut.getSelectionBoxId(this.context.guid,e.sid);Ut.setShapeHighlight(n,o,Ut.getPrevShapeFilterId(this.context.guid),t,this.context),this.highlightedShapeIds[e.sid]=o}if(i.enablePrevConnColor){const t=s.getValueOrDefault(i.prevConnColor,r.prevConnColor),n=s.findTargetElement(e.cid,this.context),o=Ut.setConnHighlight(n,t,this.context);this.highlightedShapeIds[e.cid]=o}}const o=i.selectionColor||r.selectionColor,l=Ut.getSelectionBoxId(this.context.guid,e);Ut.setShapeHighlight(a,l,Ut.getSelectionFilterId(this.context.guid),o,this.context),this.highlightedShapeIds[e]=l}}}clearSelection(){for(const e in this.highlightedShapeIds){const t=this.context.svg.getElementById(this.highlightedShapeIds[e]);t&&t.parentElement.removeChild(t);const n=this.context.svg.getElementById(e);n&&n.removeAttribute("filter")}this.selectedShapeId=null}}class Wt extends a{constructor(e){super(e),this.reset()}reset(){super.unsubscribe();const e=this.context.diagram,t=e.settings||{},n=n=>{n.stopPropagation();const r=n.currentTarget,i=e.shapes[r.id],o=i.DefaultLink&&i.Links[i.DefaultLink-1],a=o&&this.buildDefaultHref(o),l=s.getValueOrDefault(t.openHyperlinksInNewWindow,!0),c=new CustomEvent("svgpublish_LinkClicked",{cancelable:!0,detail:{context:this.context,triggerEvent:n,shape:i,link:o,href:a,target:o.Address&&(l||n.shiftKey)?"_blank":void 0}});this.context.events.dispatchEvent(c)&&(n&&n.ctrlKey||(c.detail.target?window.open(c.detail.href,"_blank"):document.location=c.detail.href))};for(const i in e.shapes){const o=e.shapes[i],a=o.DefaultLink&&o.Links[o.DefaultLink-1];if(a&&this.buildDefaultHref(a)){var r=s.findTargetElement(i,this.context);if(!r)continue;t.enableFollowHyperlinks?(r.style.cursor="pointer",this.subscribe(r,"click",n)):r.style.cursor="default"}}}buildDefaultHref(e){const t=this.context.diagram;if(e.Address)return e.Address;var n=e.PageId;if(n>=0&&t.pages){var r=t.pages.find(e=>e.Id===n);const i=location.pathname,o=i.substring(0,i.lastIndexOf("/")+1)+r.FileName;let a=document.location.origin+o;return e.ShapeId&&(a+="#?shape="+e.ShapeId),e.Zoom&&(a+=(e.ShapeId?"&":"#?")+"zoom="+e.Zoom),a}return"#"}}class Vt extends a{constructor(e){super(e),this.reset()}destroy(){Ut.destroyHoverFilters(this.context),super.destroy()}reset(){super.unsubscribe();const e=this.context.diagram,t=e.settings||{},n=this.context.services.selection;Ut.destroyHoverFilters(this.context),Ut.createHoverFilters(this.context,t);for(const i in e.shapes){const o=e.shapes[i];if(o.DefaultLink||o.Props&&Object.keys(o.Props).length||o.Links?.length||o.Comment||o.PopoverMarkdown||o.SidebarMarkdown||o.TooltipMarkdown||t.enableNextShapeColor&&o.ConnectedTo?.length||t.enablePrevShapeColor&&o.ConnectedFrom?.length){const e=Ut.getSelectionBoxId(this.context.guid,i),a=s.findTargetElement(i,this.context);if(a){const l=t.enableFollowHyperlinks&&o.DefaultLink,c=l?Ut.getHyperlinkFilterId(this.context.guid):Ut.getHoverFilterId(this.context.guid);this.subscribe(a,"mouseover",()=>{if(!n?.highlightedShapeIds?.[i]){const n=s.getValueOrDefault(t.hyperlinkColor,r.hyperlinkColor),i=s.getValueOrDefault(t.hoverColor,r.hoverColor),o=l?n:i;Ut.setShapeHighlight(a,e,c,o,this.context)}}),this.subscribe(a,"mouseout",()=>{n?.highlightedShapeIds[i]||Ut.removeShapeHighlight(a,e,this.context)})}}}}}class qt extends a{constructor(e){super(e),this.reset()}reset(){super.unsubscribe()}isLayerVisible(e){const t=this.getLayerByName(e);return!!t&&t.Visible}setLayerVisible(e,t){const n=this.getLayerByName(e);n&&(n.Visible=t,this.updateShapes())}showAllLayers(){this.getLayers().forEach(e=>{e.Visible=!0}),this.updateShapes()}hideAllLayers(){this.getLayers().forEach(e=>{e.Visible=!1}),this.updateShapes()}getLayers(){return this.context.diagram.layers||[]}destroy(){super.unsubscribe()}getLayerByName(e){return this.getLayers().find(t=>t.Name===e)}updateShapes(){const e=this.context.diagram,t=this.getLayers();e.shapes&&t.length&&Object.keys(e.shapes).forEach(n=>{const r=e.shapes[n];if(!r.Layers||!r.Layers.length)return;const i=t.some(e=>e.Visible&&r.Layers.indexOf(e.Index)>=0),o=document.getElementById(n);o&&(o.style.display=i?"":"none")})}}function Gt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Yt(e){return e instanceof Gt(e).Element||e instanceof Element}function Zt(e){return e instanceof Gt(e).HTMLElement||e instanceof HTMLElement}function Xt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Gt(e).ShadowRoot||e instanceof ShadowRoot)}var Qt=Math.max,Kt=Math.min,Jt=Math.round;function en(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tn(){return!/^((?!chrome|android).)*safari/i.test(en())}function nn(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Zt(e)&&(i=e.offsetWidth>0&&Jt(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Jt(r.height)/e.offsetHeight||1);var a=(Yt(e)?Gt(e):window).visualViewport,s=!tn()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,p=r.width/i,u=r.height/o;return{width:p,height:u,top:c,right:l+p,bottom:c+u,left:l,x:l,y:c}}function rn(e){var t=Gt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function on(e){return e?(e.nodeName||"").toLowerCase():null}function an(e){return((Yt(e)?e.ownerDocument:e.document)||window.document).documentElement}function sn(e){return nn(an(e)).left+rn(e).scrollLeft}function ln(e){return Gt(e).getComputedStyle(e)}function cn(e){var t=ln(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function pn(e,t,n){void 0===n&&(n=!1);var r,i,o=Zt(t),a=Zt(t)&&function(e){var t=e.getBoundingClientRect(),n=Jt(t.width)/e.offsetWidth||1,r=Jt(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=an(t),l=nn(e,a,n),c={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(o||!o&&!n)&&(("body"!==on(t)||cn(s))&&(c=(r=t)!==Gt(r)&&Zt(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:rn(r)),Zt(t)?((p=nn(t,!0)).x+=t.clientLeft,p.y+=t.clientTop):s&&(p.x=sn(s))),{x:l.left+c.scrollLeft-p.x,y:l.top+c.scrollTop-p.y,width:l.width,height:l.height}}function un(e){var t=nn(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function hn(e){return"html"===on(e)?e:e.assignedSlot||e.parentNode||(Xt(e)?e.host:null)||an(e)}function dn(e){return["html","body","#document"].indexOf(on(e))>=0?e.ownerDocument.body:Zt(e)&&cn(e)?e:dn(hn(e))}function fn(e,t){var n;void 0===t&&(t=[]);var r=dn(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Gt(r),a=i?[o].concat(o.visualViewport||[],cn(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(fn(hn(a)))}function gn(e){return["table","td","th"].indexOf(on(e))>=0}function mn(e){return Zt(e)&&"fixed"!==ln(e).position?e.offsetParent:null}function bn(e){for(var t=Gt(e),n=mn(e);n&&gn(n)&&"static"===ln(n).position;)n=mn(n);return n&&("html"===on(n)||"body"===on(n)&&"static"===ln(n).position)?t:n||function(e){var t=/firefox/i.test(en());if(/Trident/i.test(en())&&Zt(e)&&"fixed"===ln(e).position)return null;var n=hn(e);for(Xt(n)&&(n=n.host);Zt(n)&&["html","body"].indexOf(on(n))<0;){var r=ln(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var xn="top",yn="bottom",vn="right",An="left",wn="auto",kn=[xn,yn,vn,An],Cn="start",Sn="end",Tn="viewport",En="popper",In=kn.reduce(function(e,t){return e.concat([t+"-"+Cn,t+"-"+Sn])},[]),Dn=[].concat(kn,[wn]).reduce(function(e,t){return e.concat([t,t+"-"+Cn,t+"-"+Sn])},[]),On=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Mn(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}var Ln={placement:"bottom",modifiers:[],strategy:"absolute"};function Rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Bn(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Ln:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ln,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,p={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;u(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:Yt(e)?fn(e):e.contextElement?fn(e.contextElement):[],popper:fn(t)};var a,c,h=function(e){var t=Mn(e);return On.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((a=[].concat(r,s.options.modifiers),c=a.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return s.orderedModifiers=h.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:p,options:r});l.push(o||function(){})}}),p.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Rn(t,n)){s.rects={reference:pn(t,bn(n),"fixed"===s.options.strategy),popper:un(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,l=void 0===a?{}:a,u=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:u,instance:p})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise(function(e){p.forceUpdate(),e(s)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(i())})})),a}),destroy:function(){u(),c=!0}};if(!Rn(e,t))return p;function u(){l.forEach(function(e){return e()}),l=[]}return p.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),p}}var Nn={passive:!0};const Pn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=Gt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,Nn)}),s&&l.addEventListener("resize",n.update,Nn),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Nn)}),s&&l.removeEventListener("resize",n.update,Nn)}},data:{}};function _n(e){return e.split("-")[0]}function zn(e){return e.split("-")[1]}function $n(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hn(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?_n(i):null,a=i?zn(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case xn:t={x:s,y:n.y-r.height};break;case yn:t={x:s,y:n.y+n.height};break;case vn:t={x:n.x+n.width,y:l};break;case An:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?$n(o):null;if(null!=c){var p="y"===c?"height":"width";switch(a){case Cn:t[c]=t[c]-(n[p]/2-r[p]/2);break;case Sn:t[c]=t[c]+(n[p]/2-r[p]/2)}}return t}var Fn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Un(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,p=e.roundOffsets,u=e.isFixed,h=a.x,d=void 0===h?0:h,f=a.y,g=void 0===f?0:f,m="function"==typeof p?p({x:d,y:g}):{x:d,y:g};d=m.x,g=m.y;var b=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),y=An,v=xn,A=window;if(c){var w=bn(n),k="clientHeight",C="clientWidth";w===Gt(n)&&"static"!==ln(w=an(n)).position&&"absolute"===s&&(k="scrollHeight",C="scrollWidth"),(i===xn||(i===An||i===vn)&&o===Sn)&&(v=yn,g-=(u&&w===A&&A.visualViewport?A.visualViewport.height:w[k])-r.height,g*=l?1:-1),i!==An&&(i!==xn&&i!==yn||o!==Sn)||(y=vn,d-=(u&&w===A&&A.visualViewport?A.visualViewport.width:w[C])-r.width,d*=l?1:-1)}var S,T=Object.assign({position:s},c&&Fn),E=!0===p?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Jt(n*i)/i||0,y:Jt(r*i)/i||0}}({x:d,y:g},Gt(n)):{x:d,y:g};return d=E.x,g=E.y,l?Object.assign({},T,((S={})[v]=x?"0":"",S[y]=b?"0":"",S.transform=(A.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",S)):Object.assign({},T,((t={})[v]=x?g+"px":"",t[y]=b?d+"px":"",t.transform="",t))}const jn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:_n(t.placement),variation:zn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Un(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Un(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Wn={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Zt(i)&&on(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Zt(r)&&on(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},Vn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=Dn.reduce(function(e,n){return e[n]=function(e,t,n){var r=_n(e),i=[An,xn].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[An,vn].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var qn={left:"right",right:"left",bottom:"top",top:"bottom"};function Gn(e){return e.replace(/left|right|bottom|top/g,function(e){return qn[e]})}var Yn={start:"end",end:"start"};function Zn(e){return e.replace(/start|end/g,function(e){return Yn[e]})}function Xn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Xt(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Kn(e,t,n){return t===Tn?Qn(function(e,t){var n=Gt(e),r=an(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=tn();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+sn(e),y:l}}(e,n)):Yt(t)?function(e,t){var n=nn(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Qn(function(e){var t,n=an(e),r=rn(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Qt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Qt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+sn(e),l=-r.scrollTop;return"rtl"===ln(i||n).direction&&(s+=Qt(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(an(e)))}function Jn(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function er(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function tr(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,p=void 0===c?Tn:c,u=n.elementContext,h=void 0===u?En:u,d=n.altBoundary,f=void 0!==d&&d,g=n.padding,m=void 0===g?0:g,b=Jn("number"!=typeof m?m:er(m,kn)),x=h===En?"reference":En,y=e.rects.popper,v=e.elements[f?x:h],A=function(e,t,n,r){var i="clippingParents"===t?function(e){var t=fn(hn(e)),n=["absolute","fixed"].indexOf(ln(e).position)>=0&&Zt(e)?bn(e):e;return Yt(n)?t.filter(function(e){return Yt(e)&&Xn(e,n)&&"body"!==on(e)}):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(t,n){var i=Kn(e,n,r);return t.top=Qt(i.top,t.top),t.right=Kt(i.right,t.right),t.bottom=Kt(i.bottom,t.bottom),t.left=Qt(i.left,t.left),t},Kn(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Yt(v)?v:v.contextElement||an(e.elements.popper),l,p,a),w=nn(e.elements.reference),k=Hn({reference:w,element:y,strategy:"absolute",placement:i}),C=Qn(Object.assign({},y,k)),S=h===En?C:w,T={top:A.top-S.top+b.top,bottom:S.bottom-A.bottom+b.bottom,left:A.left-S.left+b.left,right:S.right-A.right+b.right},E=e.modifiersData.offset;if(h===En&&E){var I=E[i];Object.keys(T).forEach(function(e){var t=[vn,yn].indexOf(e)>=0?1:-1,n=[xn,yn].indexOf(e)>=0?"y":"x";T[e]+=I[n]*t})}return T}const nr={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,p=n.boundary,u=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,f=void 0===d||d,g=n.allowedAutoPlacements,m=t.options.placement,b=_n(m),x=l||(b!==m&&f?function(e){if(_n(e)===wn)return[];var t=Gn(e);return[Zn(e),t,Zn(t)]}(m):[Gn(m)]),y=[m].concat(x).reduce(function(e,n){return e.concat(_n(n)===wn?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Dn:l,p=zn(r),u=p?s?In:In.filter(function(e){return zn(e)===p}):kn,h=u.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=u);var d=h.reduce(function(t,n){return t[n]=tr(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[_n(n)],t},{});return Object.keys(d).sort(function(e,t){return d[e]-d[t]})}(t,{placement:n,boundary:p,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)},[]),v=t.rects.reference,A=t.rects.popper,w=new Map,k=!0,C=y[0],S=0;S<y.length;S++){var T=y[S],E=_n(T),I=zn(T)===Cn,D=[xn,yn].indexOf(E)>=0,O=D?"width":"height",M=tr(t,{placement:T,boundary:p,rootBoundary:u,altBoundary:h,padding:c}),L=D?I?vn:An:I?yn:xn;v[O]>A[O]&&(L=Gn(L));var R=Gn(L),B=[];if(o&&B.push(M[E]<=0),s&&B.push(M[L]<=0,M[R]<=0),B.every(function(e){return e})){C=T,k=!1;break}w.set(T,B)}if(k)for(var N=function(e){var t=y.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},P=f?3:1;P>0&&"break"!==N(P);P--);t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function rr(e,t,n){return Qt(e,Kt(t,n))}const ir={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,u=n.padding,h=n.tether,d=void 0===h||h,f=n.tetherOffset,g=void 0===f?0:f,m=tr(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:p}),b=_n(t.placement),x=zn(t.placement),y=!x,v=$n(b),A="x"===v?"y":"x",w=t.modifiersData.popperOffsets,k=t.rects.reference,C=t.rects.popper,S="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,T="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(w){if(o){var D,O="y"===v?xn:An,M="y"===v?yn:vn,L="y"===v?"height":"width",R=w[v],B=R+m[O],N=R-m[M],P=d?-C[L]/2:0,_=x===Cn?k[L]:C[L],z=x===Cn?-C[L]:-k[L],$=t.elements.arrow,H=d&&$?un($):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=F[O],j=F[M],W=rr(0,k[L],H[L]),V=y?k[L]/2-P-W-U-T.mainAxis:_-W-U-T.mainAxis,q=y?-k[L]/2+P+W+j+T.mainAxis:z+W+j+T.mainAxis,G=t.elements.arrow&&bn(t.elements.arrow),Y=G?"y"===v?G.clientTop||0:G.clientLeft||0:0,Z=null!=(D=null==E?void 0:E[v])?D:0,X=R+q-Z,Q=rr(d?Kt(B,R+V-Z-Y):B,R,d?Qt(N,X):N);w[v]=Q,I[v]=Q-R}if(s){var K,J="x"===v?xn:An,ee="x"===v?yn:vn,te=w[A],ne="y"===A?"height":"width",re=te+m[J],ie=te-m[ee],oe=-1!==[xn,An].indexOf(b),ae=null!=(K=null==E?void 0:E[A])?K:0,se=oe?re:te-k[ne]-C[ne]-ae+T.altAxis,le=oe?te+k[ne]+C[ne]-ae-T.altAxis:ie,ce=d&&oe?function(e,t,n){var r=rr(e,t,n);return r>n?n:r}(se,te,le):rr(d?se:re,te,d?le:ie);w[A]=ce,I[A]=ce-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]},or={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=_n(n.placement),l=$n(s),c=[An,vn].indexOf(s)>=0?"height":"width";if(o&&a){var p=function(e,t){return Jn("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:er(e,kn))}(i.padding,n),u=un(o),h="y"===l?xn:An,d="y"===l?yn:vn,f=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],g=a[l]-n.rects.reference[l],m=bn(o),b=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,x=f/2-g/2,y=p[h],v=b-u[c]-p[d],A=b/2-u[c]/2+x,w=rr(y,A,v),k=l;n.modifiersData[r]=((t={})[k]=w,t.centerOffset=w-A,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Xn(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ar(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function sr(e){return[xn,vn,yn,An].some(function(t){return e[t]>=0})}var lr=Bn({defaultModifiers:[Pn,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Hn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},jn,Wn,Vn,nr,ir,or,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=tr(t,{elementContext:"reference"}),s=tr(t,{altBoundary:!0}),l=ar(a,r),c=ar(s,i,o),p=sr(l),u=sr(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":u})}}]}),cr="tippy-content",pr="tippy-arrow",ur="tippy-svg-arrow",hr={passive:!0,capture:!0},dr=function(){return document.body};function fr(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function gr(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function mr(e,t){return"function"==typeof e?e.apply(void 0,t):e}function br(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)};var n}function xr(e){return[].concat(e)}function yr(e,t){-1===e.indexOf(t)&&e.push(t)}function vr(e){return[].slice.call(e)}function Ar(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function wr(){return document.createElement("div")}function kr(e){return["Element","Fragment"].some(function(t){return gr(e,t)})}function Cr(e){return gr(e,"MouseEvent")}function Sr(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function Tr(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function Er(e){var t,n=xr(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function Ir(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[r](t,n)})}function Dr(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Or={isTouch:!1},Mr=0;function Lr(){Or.isTouch||(Or.isTouch=!0,window.performance&&document.addEventListener("mousemove",Rr))}function Rr(){var e=performance.now();e-Mr<20&&(Or.isTouch=!1,document.removeEventListener("mousemove",Rr)),Mr=e}function Br(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var Nr=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),Pr=Object.assign({appendTo:dr,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),_r=Object.keys(Pr);function zr(e){var t=(e.plugins||[]).reduce(function(t,n){var r,i=n.name,o=n.defaultValue;return i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=Pr[i])?r:o),t},{});return Object.assign({},e,t)}function $r(e,t){var n=Object.assign({},t,{content:mr(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(zr(Object.assign({},Pr,{plugins:t}))):_r).reduce(function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t},{})}(e,t.plugins));return n.aria=Object.assign({},Pr.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Hr(e,t){e.innerHTML=t}function Fr(e){var t=wr();return!0===e?t.className=pr:(t.className=ur,kr(e)?t.appendChild(e):Hr(t,e)),t}function Ur(e,t){kr(t.content)?(Hr(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Hr(e,t.content):e.textContent=t.content)}function jr(e){var t=e.firstElementChild,n=vr(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(cr)}),arrow:n.find(function(e){return e.classList.contains(pr)||e.classList.contains(ur)}),backdrop:n.find(function(e){return e.classList.contains("tippy-backdrop")})}}function Wr(e){var t=wr(),n=wr();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=wr();function i(n,r){var i=jr(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Ur(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(Fr(r.arrow))):o.appendChild(Fr(r.arrow)):s&&o.removeChild(s)}return r.className=cr,r.setAttribute("data-state","hidden"),Ur(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}Wr.$$tippy=!0;var Vr=1,qr=[],Gr=[];function Yr(e,t){var n,r,i,o,a,s,l,c,p=$r(e,Object.assign({},Pr,zr(Ar(t)))),u=!1,h=!1,d=!1,f=!1,g=[],m=br(G,p.interactiveDebounce),b=Vr++,x=(c=p.plugins).filter(function(e,t){return c.indexOf(e)===t}),y={id:b,reference:e,popper:wr(),popperInstance:null,props:p,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:x,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){if(!y.state.isDestroyed){R("onBeforeUpdate",[y,t]),V();var n=y.props,r=$r(e,Object.assign({},n,Ar(t),{ignoreAttributes:!0}));y.props=r,W(),n.interactiveDebounce!==r.interactiveDebounce&&(P(),m=br(G,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?xr(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):r.triggerTarget&&e.removeAttribute("aria-expanded"),N(),L(),w&&w(n,r),y.popperInstance&&(Q(),J().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})),R("onAfterUpdate",[y,t])}},setContent:function(e){y.setProps({content:e})},show:function(){var e=y.state.isVisible,t=y.state.isDestroyed,n=!y.state.isEnabled,r=Or.isTouch&&!y.props.touch,i=fr(y.props.duration,0,Pr.duration);if(!(e||t||n||r||I().hasAttribute("disabled")||(R("onShow",[y],!1),!1===y.props.onShow(y)))){if(y.state.isVisible=!0,E()&&(A.style.visibility="visible"),L(),H(),y.state.isMounted||(A.style.transition="none"),E()){var o=O();Sr([o.box,o.content],0)}var a,l,c;s=function(){var e;if(y.state.isVisible&&!f){if(f=!0,A.offsetHeight,A.style.transition=y.props.moveTransition,E()&&y.props.animation){var t=O(),n=t.box,r=t.content;Sr([n,r],i),Tr([n,r],"visible")}B(),N(),yr(Gr,y),null==(e=y.popperInstance)||e.forceUpdate(),R("onMount",[y]),y.props.animation&&E()&&function(e){U(e,function(){y.state.isShown=!0,R("onShown",[y])})}(i)}},l=y.props.appendTo,c=I(),(a=y.props.interactive&&l===dr||"parent"===l?c.parentNode:mr(l,[c])).contains(A)||a.appendChild(A),y.state.isMounted=!0,Q()}},hide:function(){var e=!y.state.isVisible,t=y.state.isDestroyed,n=!y.state.isEnabled,r=fr(y.props.duration,1,Pr.duration);if(!(e||t||n)&&(R("onHide",[y],!1),!1!==y.props.onHide(y))){if(y.state.isVisible=!1,y.state.isShown=!1,f=!1,u=!1,E()&&(A.style.visibility="hidden"),P(),F(),L(!0),E()){var i=O(),o=i.box,a=i.content;y.props.animation&&(Sr([o,a],r),Tr([o,a],"hidden"))}B(),N(),y.props.animation?E()&&function(e,t){U(e,function(){!y.state.isVisible&&A.parentNode&&A.parentNode.contains(A)&&t()})}(r,y.unmount):y.unmount()}},hideWithInteractivity:function(e){D().addEventListener("mousemove",m),yr(qr,m),m(e)},enable:function(){y.state.isEnabled=!0},disable:function(){y.hide(),y.state.isEnabled=!1},unmount:function(){y.state.isVisible&&y.hide(),y.state.isMounted&&(K(),J().forEach(function(e){e._tippy.unmount()}),A.parentNode&&A.parentNode.removeChild(A),Gr=Gr.filter(function(e){return e!==y}),y.state.isMounted=!1,R("onHidden",[y]))},destroy:function(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),V(),delete e._tippy,y.state.isDestroyed=!0,R("onDestroy",[y]))}};if(!p.render)return y;var v=p.render(y),A=v.popper,w=v.onUpdate;A.setAttribute("data-tippy-root",""),A.id="tippy-"+y.id,y.popper=A,e._tippy=y,A._tippy=y;var k=x.map(function(e){return e.fn(y)}),C=e.hasAttribute("aria-expanded");return W(),N(),L(),R("onCreate",[y]),p.showOnCreate&&ee(),A.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),A.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&D().addEventListener("mousemove",m)}),y;function S(){var e=y.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===S()[0]}function E(){var e;return!(null==(e=y.props.render)||!e.$$tippy)}function I(){return l||e}function D(){var e=I().parentNode;return e?Er(e):document}function O(){return jr(A)}function M(e){return y.state.isMounted&&!y.state.isVisible||Or.isTouch||o&&"focus"===o.type?0:fr(y.props.delay,e?0:1,Pr.delay)}function L(e){void 0===e&&(e=!1),A.style.pointerEvents=y.props.interactive&&!e?"":"none",A.style.zIndex=""+y.props.zIndex}function R(e,t,n){var r;void 0===n&&(n=!0),k.forEach(function(n){n[e]&&n[e].apply(n,t)}),n&&(r=y.props)[e].apply(r,t)}function B(){var t=y.props.aria;if(t.content){var n="aria-"+t.content,r=A.id;xr(y.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(y.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}})}}function N(){!C&&y.props.aria.expanded&&xr(y.props.triggerTarget||e).forEach(function(e){y.props.interactive?e.setAttribute("aria-expanded",y.state.isVisible&&e===I()?"true":"false"):e.removeAttribute("aria-expanded")})}function P(){D().removeEventListener("mousemove",m),qr=qr.filter(function(e){return e!==m})}function _(t){if(!Or.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!y.props.interactive||!Dr(A,n)){if(xr(y.props.triggerTarget||e).some(function(e){return Dr(e,n)})){if(Or.isTouch)return;if(y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[y,t]);!0===y.props.hideOnClick&&(y.clearDelayTimeouts(),y.hide(),h=!0,setTimeout(function(){h=!1}),y.state.isMounted||F())}}}function z(){d=!0}function $(){d=!1}function H(){var e=D();e.addEventListener("mousedown",_,!0),e.addEventListener("touchend",_,hr),e.addEventListener("touchstart",$,hr),e.addEventListener("touchmove",z,hr)}function F(){var e=D();e.removeEventListener("mousedown",_,!0),e.removeEventListener("touchend",_,hr),e.removeEventListener("touchstart",$,hr),e.removeEventListener("touchmove",z,hr)}function U(e,t){var n=O().box;function r(e){e.target===n&&(Ir(n,"remove",r),t())}if(0===e)return t();Ir(n,"remove",a),Ir(n,"add",r),a=r}function j(t,n,r){void 0===r&&(r=!1),xr(y.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,r),g.push({node:e,eventType:t,handler:n,options:r})})}function W(){var e;T()&&(j("touchstart",q,{passive:!0}),j("touchend",Y,{passive:!0})),(e=y.props.trigger,e.split(/\s+/).filter(Boolean)).forEach(function(e){if("manual"!==e)switch(j(e,q),e){case"mouseenter":j("mouseleave",Y);break;case"focus":j(Nr?"focusout":"blur",Z);break;case"focusin":j("focusout",Z)}})}function V(){g.forEach(function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)}),g=[]}function q(e){var t,n=!1;if(y.state.isEnabled&&!X(e)&&!h){var r="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,N(),!y.state.isVisible&&Cr(e)&&qr.forEach(function(t){return t(e)}),"click"===e.type&&(y.props.trigger.indexOf("mouseenter")<0||u)&&!1!==y.props.hideOnClick&&y.state.isVisible?n=!0:ee(e),"click"===e.type&&(u=!n),n&&!r&&te(e)}}function G(e){var t=e.target,n=I().contains(t)||A.contains(t);if("mousemove"!==e.type||!n){var r=J().concat(A).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:p}:null}).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every(function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,a=i.placement.split("-")[0],s=i.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,p="right"===a?s.left.x:0,u="left"===a?s.right.x:0,h=t.top-r+l>o,d=r-t.bottom-c>o,f=t.left-n+p>o,g=n-t.right-u>o;return h||d||f||g})})(r,e)&&(P(),te(e))}}function Y(e){X(e)||y.props.trigger.indexOf("click")>=0&&u||(y.props.interactive?y.hideWithInteractivity(e):te(e))}function Z(e){y.props.trigger.indexOf("focusin")<0&&e.target!==I()||y.props.interactive&&e.relatedTarget&&A.contains(e.relatedTarget)||te(e)}function X(e){return!!Or.isTouch&&T()!==e.type.indexOf("touch")>=0}function Q(){K();var t=y.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,l=E()?jr(A).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||I()}:e,p=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(E()){var n=O().box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)}),t.attributes.popper={}}}}];E()&&l&&p.push({name:"arrow",options:{element:l,padding:3}}),p.push.apply(p,(null==n?void 0:n.modifiers)||[]),y.popperInstance=lr(c,A,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:p}))}function K(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function J(){return vr(A.querySelectorAll("[data-tippy-root]"))}function ee(e){y.clearDelayTimeouts(),e&&R("onTrigger",[y,e]),H();var t=M(!0),r=S(),i=r[0],o=r[1];Or.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout(function(){y.show()},t):y.show()}function te(e){if(y.clearDelayTimeouts(),R("onUntrigger",[y,e]),y.state.isVisible){if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=M(!1);t?r=setTimeout(function(){y.state.isVisible&&y.hide()},t):i=requestAnimationFrame(function(){y.hide()})}}else F()}}function Zr(e,t){void 0===t&&(t={});var n=Pr.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Lr,hr),window.addEventListener("blur",Br);var r,i=Object.assign({},t,{plugins:n}),o=(r=e,kr(r)?[r]:function(e){return gr(e,"NodeList")}(r)?vr(r):Array.isArray(r)?r:vr(document.querySelectorAll(r))).reduce(function(e,t){var n=t&&Yr(t,i);return n&&e.push(n),e},[]);return kr(e)?o[0]:o}Zr.defaultProps=Pr,Zr.setDefaultProps=function(e){Object.keys(e).forEach(function(t){Pr[t]=e[t]})},Zr.currentInput=Or,Object.assign({},Wn,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});var Xr={clientX:0,clientY:0},Qr=[];function Kr(e){var t=e.clientX,n=e.clientY;Xr={clientX:t,clientY:n}}var Jr={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=Er(e.props.triggerTarget||t),r=!1,i=!1,o=!0,a=e.props;function s(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){n.addEventListener("mousemove",u)}function c(){n.removeEventListener("mousemove",u)}function p(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function u(n){var r=!n.target||t.contains(n.target),i=e.props.followCursor,o=n.clientX,a=n.clientY,s=t.getBoundingClientRect(),l=o-s.left,c=a-s.top;!r&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=o,r=a;"initial"===i&&(n=e.left+l,r=e.top+c);var s="horizontal"===i?e.top:r,p="vertical"===i?e.right:n,u="horizontal"===i?e.bottom:r,h="vertical"===i?e.left:n;return{width:p-h,height:u-s,top:s,right:p,bottom:u,left:h}}})}function h(){e.props.followCursor&&(Qr.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",Kr)}(n))}function d(){0===(Qr=Qr.filter(function(t){return t.instance!==e})).filter(function(e){return e.doc===n}).length&&function(e){e.removeEventListener("mousemove",Kr)}(n)}return{onCreate:h,onDestroy:d,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(t,n){var o=n.followCursor;r||void 0!==o&&a.followCursor!==o&&(d(),o?(h(),!e.state.isMounted||i||s()||l()):(c(),p()))},onMount:function(){e.props.followCursor&&!i&&(o&&(u(Xr),o=!1),s()||l())},onTrigger:function(e,t){Cr(t)&&(Xr={clientX:t.clientX,clientY:t.clientY}),i="focus"===t.type},onHidden:function(){e.props.followCursor&&(p(),c(),o=!0)}}}};Zr.setDefaultProps({render:Wr});const ei=Zr;var ti=n(591),ni=n.n(ti),ri=n(740),ii=n.n(ri),oi=n(128),ai=n.n(oi),si=n(855),li=n.n(si),ci=n(51),pi=n.n(ci),ui=n(656),hi=n.n(ui),di=n(14),fi={};fi.styleTagTransform=hi(),fi.setAttributes=li(),fi.insert=ai().bind(null,"head"),fi.domAPI=ii(),fi.insertStyleElement=pi(),ni()(di.A,fi),di.A&&di.A.locals&&di.A.locals;var gi=n(670),mi={};mi.styleTagTransform=hi(),mi.setAttributes=li(),mi.insert=ai().bind(null,"head"),mi.domAPI=ii(),mi.insertStyleElement=pi(),ni()(gi.A,mi),gi.A&&gi.A.locals&&gi.A.locals;var bi=n(795),xi={};xi.styleTagTransform=hi(),xi.setAttributes=li(),xi.insert=ai().bind(null,"head"),xi.domAPI=ii(),xi.insertStyleElement=pi(),ni()(bi.A,xi),bi.A&&bi.A.locals&&bi.A.locals;var yi,vi=n(963),Ai={};Ai.styleTagTransform=hi(),Ai.setAttributes=li(),Ai.insert=ai().bind(null,"head"),Ai.domAPI=ii(),Ai.insertStyleElement=pi(),ni()(vi.A,Ai),vi.A&&vi.A.locals&&vi.A.locals;class wi extends a{constructor(e){super(e),this.tooltips=[],this.reset()}destroy(){for(const e of this.tooltips)e.destroy();this.tooltips=[]}reset(){this.destroy();const e=this.context.diagram,t=e.settings||{};if(!t.suppressMobileTip||!s.isTouchOnlyDevice()){ei.setDefaultProps({allowHTML:!0,appendTo:this.context.container,interactive:t.tooltipInteractive,delay:t.tooltipDelay?[t.tooltipDelayShow??void 0,t.tooltipDelayHide??void 0]:void 0,trigger:t.tooltipTrigger||"mouseenter",placement:t.tooltipPlacement||"auto",followCursor:t.tooltipUseMousePosition,plugins:t.tooltipUseMousePosition?[Jr]:[],theme:t.tooltipTheme||"dark"});for(const n in e.shapes){const r=e.shapes[n],i=s.findTargetElement(n,this.context);if(!i)continue;const o=r.TooltipMarkdown||t.enableTooltipMarkdown&&t.tooltipMarkdown||r.Comment||"",a=this.context.services.view.renderMarkdown(o,r);if(!a)continue;const l=ei(i,{content:a});this.tooltips.push(l)}}}}class ki extends a{constructor(e){super(e),this.reset()}destroy(){this.context.container.querySelectorAll(`[data-vp-content-${this.context.guid}]`).forEach(e=>e.remove())}reset(){this.destroy();const e=this.context.diagram,t=e.settings||{};for(const n in e.shapes){const r=e.shapes[n],i=s.findTargetElement(n,this.context);if(!i)continue;const o=r.ContentMarkdown||t.enableContentMarkdown&&t.contentMarkdown||"",a=this.context.services.view.renderMarkdown(o,r);if(!a)continue;const l=i.getBBox(),c=l.x,p=l.y,u=l.width,h=l.height,d="http://www.w3.org/2000/svg",f=document.createElementNS(d,"foreignObject");f.setAttribute("x",c.toString()),f.setAttribute("y",p.toString()),f.setAttribute("width",u.toString()),f.setAttribute("height",h.toString()),f.setAttribute(`data-vp-content-${this.context.guid}`,"true"),f.innerHTML=a,i.appendChild(f)}}}class Ci extends a{constructor(e){super(e),this.reset()}destroy(){}reset(){this.destroy()}}class Si{static parseSvg(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement.getElementsByTagNameNS("http://vispublish","SvgPublishData")[0],r=n?JSON.parse(n.textContent):{},i=r.viewBox||t.documentElement.getAttribute("viewBox");return t.documentElement.removeAttribute("viewBox"),t.documentElement.setAttribute("width","100%"),t.documentElement.setAttribute("height","100%"),{svgXml:t.documentElement.outerHTML,viewBox:i,diagramInfo:r}}static async defaultResolver(e){const t=await yi.fetchText(e);return yi.parseSvg(t)}}yi=Si,Si.fetchText=async e=>{const t=await fetch(e);if(t.ok)return await t.text();throw new Error(`Failed to load content from ${e}`)};class Ti{constructor(e){this.guid=s.generateUniqueId(),this.container=e,this.events=new EventTarget,this.services={}}async init(e,t){const n=t?await t(e,Si.defaultResolver):await Si.defaultResolver(e);this.diagram=n.diagramInfo||{},this.container.innerHTML=n.svgXml,this.svg=this.container.querySelector("svg"),this.services.view=new $t(this,n.viewBox);const r=this.diagram.settings||{};this.enableService("selection",r.enableSelection),this.enableService("links",r.enableFollowHyperlinks),this.enableService("hover",r.enableHover),this.enableService("tooltip",r.enableTooltips),this.enableService("content",r.enableContentMarkdown),this.enableService("sidebar",r.enableSidebar),this.enableService("layers",r.enableLayers)}destroy(){const e=Object.keys(this.services);for(const t of e)this.destroyService(t);this.container.innerHTML=""}createService(e){switch(e){case"selection":return new jt(this);case"links":return new Wt(this);case"hover":return new Vt(this);case"tooltip":return new wi(this);case"content":return new ki(this);case"sidebar":return new Ci(this);case"layers":return new qt(this)}}destroyService(e){this.services[e].destroy(),delete this.services[e]}enableService(e,t){const n=this.services[e];n?t?n.reset():this.destroyService(e):t&&(this.services[e]=this.createService(e))}configureServices(){const e=this.diagram?.settings||{};this.enableService("selection",e.enableSelection),this.enableService("links",e.enableFollowHyperlinks),this.enableService("hover",e.enableHover),this.enableService("tooltip",e.enableTooltips),this.enableService("content",e.enableContentMarkdown),this.enableService("sidebar",e.enableSidebar),this.enableService("layers",e.enableLayers)}}export{r as DefaultColors,i as DefaultDiagramSettings,Ti as SvgPublishContext};
//# sourceMappingURL=index.js.map